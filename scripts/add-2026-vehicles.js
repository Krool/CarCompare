const fs = require('fs');
const path = require('path');

const dataPath = path.join(__dirname, '..', 'src', 'data', 'cars.json');
const data = JSON.parse(fs.readFileSync(dataPath, 'utf8'));

// New 2026 vehicles to add
const newVehicles = [
  // 2026 Hyundai Palisade (redesigned)
  {
    id: "hyundai-palisade-2026",
    year: 2026,
    make: "Hyundai",
    model: "Palisade",
    trim: "SEL AWD",
    bodyType: "suv",
    bodyWidthInches: 78.0,
    lengthInches: 199.4,
    heightInches: 69.5,
    seats: 8,
    doors: 4,
    cargoVolumesCuFt: 46.3,
    fuelType: "gasoline",
    plugType: "none",
    mpgCity: 19,
    mpgHighway: 26,
    mpgCombined: 22,
    msrp: 51470,
    driverLegroomInches: 44.1,
    safetyRating: "Not Rated",
    autonomousLevel: "enhanced",
    adasName: "SmartSense",
    adasFeatures: {
      adaptiveCruiseControl: true,
      laneKeepAssist: true,
      laneCenteringAssist: true,
      blindSpotMonitoring: true,
      automaticEmergencyBraking: true,
      trafficSignRecognition: true,
      driverMonitoring: false,
      autoLaneChange: false,
      summonParking: false,
      handsFreeHighway: false,
      cityAutopilot: false
    },
    standardFeatures: ["SmartSense", "12.3in Curved Display", "Wireless CarPlay"],
    notes: "All-new 2026 redesign. 2.5\" longer, more premium interior.",
    lastUpdated: "2025-11-27",
    dataSource: "hyundaiusa.com"
  },
  // 2026 Hyundai Palisade Hybrid
  {
    id: "hyundai-palisade-hybrid-2026",
    year: 2026,
    make: "Hyundai",
    model: "Palisade Hybrid",
    trim: "SEL AWD",
    bodyType: "suv",
    bodyWidthInches: 78.0,
    lengthInches: 199.4,
    heightInches: 69.5,
    seats: 8,
    doors: 4,
    cargoVolumesCuFt: 46.3,
    fuelType: "hybrid",
    plugType: "none",
    mpgCity: 25,
    mpgHighway: 28,
    mpgCombined: 26,
    msrp: 54000,
    driverLegroomInches: 44.1,
    safetyRating: "Not Rated",
    autonomousLevel: "enhanced",
    adasName: "SmartSense",
    adasFeatures: {
      adaptiveCruiseControl: true,
      laneKeepAssist: true,
      laneCenteringAssist: true,
      blindSpotMonitoring: true,
      automaticEmergencyBraking: true,
      trafficSignRecognition: true,
      driverMonitoring: false,
      autoLaneChange: false,
      summonParking: false,
      handsFreeHighway: false,
      cityAutopilot: false
    },
    standardFeatures: ["SmartSense", "2.5L Turbo Hybrid", "329 HP combined"],
    notes: "First Palisade hybrid. 329 HP combined output.",
    lastUpdated: "2025-11-27",
    dataSource: "hyundaiusa.com"
  },
  // 2026 Subaru Outback (redesigned)
  {
    id: "subaru-outback-2026",
    year: 2026,
    make: "Subaru",
    model: "Outback",
    trim: "Premium",
    bodyType: "suv",
    bodyWidthInches: 74.2,
    lengthInches: 193.5,
    heightInches: 68.3,
    seats: 5,
    doors: 4,
    cargoVolumesCuFt: 34.3,
    fuelType: "gasoline",
    plugType: "none",
    mpgCity: 25,
    mpgHighway: 31,
    mpgCombined: 27,
    msrp: 36445,
    driverLegroomInches: 43.1,
    safetyRating: "Not Rated",
    autonomousLevel: "enhanced",
    adasName: "EyeSight",
    adasFeatures: {
      adaptiveCruiseControl: true,
      laneKeepAssist: true,
      laneCenteringAssist: true,
      blindSpotMonitoring: true,
      automaticEmergencyBraking: true,
      trafficSignRecognition: false,
      driverMonitoring: true,
      autoLaneChange: false,
      summonParking: false,
      handsFreeHighway: false,
      cityAutopilot: false
    },
    standardFeatures: ["EyeSight", "12.1in Touchscreen", "Symmetrical AWD"],
    notes: "All-new redesign. Now a proper SUV body style.",
    lastUpdated: "2025-11-27",
    dataSource: "subaru.com"
  },
  // 2026 Subaru Outback XT
  {
    id: "subaru-outback-xt-2026",
    year: 2026,
    make: "Subaru",
    model: "Outback",
    trim: "Touring XT",
    bodyType: "suv",
    bodyWidthInches: 74.2,
    lengthInches: 193.5,
    heightInches: 68.3,
    seats: 5,
    doors: 4,
    cargoVolumesCuFt: 34.3,
    fuelType: "gasoline",
    plugType: "none",
    mpgCity: 23,
    mpgHighway: 29,
    mpgCombined: 25,
    msrp: 46845,
    driverLegroomInches: 43.1,
    safetyRating: "Not Rated",
    autonomousLevel: "enhanced",
    adasName: "EyeSight",
    adasFeatures: {
      adaptiveCruiseControl: true,
      laneKeepAssist: true,
      laneCenteringAssist: true,
      blindSpotMonitoring: true,
      automaticEmergencyBraking: true,
      trafficSignRecognition: false,
      driverMonitoring: true,
      autoLaneChange: false,
      summonParking: false,
      handsFreeHighway: false,
      cityAutopilot: false
    },
    standardFeatures: ["EyeSight", "2.4L Turbo 260 HP", "Premium Audio"],
    notes: "Turbo model. 260 HP, 277 lb-ft torque.",
    lastUpdated: "2025-11-27",
    dataSource: "subaru.com"
  },
  // 2026 Honda Prelude
  {
    id: "honda-prelude-2026",
    year: 2026,
    make: "Honda",
    model: "Prelude",
    trim: "Hybrid",
    bodyType: "coupe",
    bodyWidthInches: 74.0,
    lengthInches: 178.4,
    heightInches: 53.4,
    seats: 4,
    doors: 2,
    cargoVolumesCuFt: 15,
    fuelType: "hybrid",
    plugType: "none",
    mpgCity: 46,
    mpgHighway: 41,
    mpgCombined: 44,
    msrp: 42000,
    driverLegroomInches: 42.5,
    safetyRating: "Not Rated",
    autonomousLevel: "enhanced",
    adasName: "Honda Sensing",
    adasFeatures: {
      adaptiveCruiseControl: true,
      laneKeepAssist: true,
      laneCenteringAssist: true,
      blindSpotMonitoring: true,
      automaticEmergencyBraking: true,
      trafficSignRecognition: true,
      driverMonitoring: false,
      autoLaneChange: false,
      summonParking: false,
      handsFreeHighway: false,
      cityAutopilot: false
    },
    standardFeatures: ["Honda Sensing", "S+ Shift", "Civic Type R chassis"],
    notes: "Prelude returns! 200 HP hybrid, Civic Type R suspension.",
    lastUpdated: "2025-11-27",
    dataSource: "automobiles.honda.com"
  },
  // 2026 Jeep Recon EV
  {
    id: "jeep-recon-2026",
    year: 2026,
    make: "Jeep",
    model: "Recon",
    trim: "Moab",
    bodyType: "suv",
    bodyWidthInches: 74.8,
    lengthInches: 193.3,
    heightInches: 74.0,
    seats: 5,
    doors: 4,
    cargoVolumesCuFt: 55,
    fuelType: "electric",
    plugType: "CCS1",
    mpge: 85,
    electricRangeMiles: 230,
    msrp: 66995,
    driverLegroomInches: 41.0,
    safetyRating: "Not Rated",
    autonomousLevel: "enhanced",
    adasName: "Active Driving Assist",
    adasFeatures: {
      adaptiveCruiseControl: true,
      laneKeepAssist: true,
      laneCenteringAssist: true,
      blindSpotMonitoring: true,
      automaticEmergencyBraking: true,
      trafficSignRecognition: false,
      driverMonitoring: false,
      autoLaneChange: false,
      summonParking: false,
      handsFreeHighway: false,
      cityAutopilot: false
    },
    standardFeatures: ["Trail Rated", "Removable Doors", "14.5in Touchscreen"],
    notes: "Electric Wrangler-like. 650 HP, 0-60 in 3.6s, removable doors.",
    lastUpdated: "2025-11-27",
    dataSource: "jeep.com"
  },
  // 2026 Cadillac Vistiq
  {
    id: "cadillac-vistiq-2026",
    year: 2026,
    make: "Cadillac",
    model: "Vistiq",
    trim: "Luxury",
    bodyType: "suv",
    bodyWidthInches: 86.7,
    lengthInches: 205.5,
    heightInches: 71.0,
    seats: 7,
    doors: 4,
    cargoVolumesCuFt: 80,
    fuelType: "electric",
    plugType: "CCS1",
    mpge: 86,
    electricRangeMiles: 300,
    msrp: 78790,
    driverLegroomInches: 42.0,
    safetyRating: "Not Rated",
    autonomousLevel: "hands-free",
    adasName: "Super Cruise",
    adasFeatures: {
      adaptiveCruiseControl: true,
      laneKeepAssist: true,
      laneCenteringAssist: true,
      blindSpotMonitoring: true,
      automaticEmergencyBraking: true,
      trafficSignRecognition: true,
      driverMonitoring: true,
      autoLaneChange: true,
      summonParking: false,
      handsFreeHighway: true,
      cityAutopilot: false
    },
    standardFeatures: ["Super Cruise", "615 HP", "102 kWh Battery"],
    notes: "3-row electric luxury SUV. 615 HP, 0-60 in 3.7s.",
    lastUpdated: "2025-11-27",
    dataSource: "cadillac.com"
  },
  // 2026 BMW 330i
  {
    id: "bmw-330i-2026",
    year: 2026,
    make: "BMW",
    model: "3 Series",
    trim: "330i",
    bodyType: "sedan",
    bodyWidthInches: 71.9,
    lengthInches: 185.9,
    heightInches: 56.8,
    seats: 5,
    doors: 4,
    cargoVolumesCuFt: 17,
    fuelType: "gasoline",
    plugType: "none",
    mpgCity: 28,
    mpgHighway: 35,
    mpgCombined: 31,
    msrp: 48675,
    driverLegroomInches: 42.0,
    safetyRating: "TSP+",
    autonomousLevel: "enhanced",
    adasName: "Driving Assistance Professional",
    adasFeatures: {
      adaptiveCruiseControl: true,
      laneKeepAssist: true,
      laneCenteringAssist: true,
      blindSpotMonitoring: true,
      automaticEmergencyBraking: true,
      trafficSignRecognition: true,
      driverMonitoring: true,
      autoLaneChange: true,
      summonParking: false,
      handsFreeHighway: false,
      cityAutopilot: false
    },
    standardFeatures: ["iDrive 8.5", "14.9in Center Screen", "255 HP Turbo"],
    notes: "Iconic sport sedan. 255 HP, 0-60 in 5.6s.",
    lastUpdated: "2025-11-27",
    dataSource: "bmwusa.com"
  },
  // 2026 BMW M340i
  {
    id: "bmw-m340i-2026",
    year: 2026,
    make: "BMW",
    model: "3 Series",
    trim: "M340i xDrive",
    bodyType: "sedan",
    bodyWidthInches: 71.9,
    lengthInches: 185.9,
    heightInches: 56.8,
    seats: 5,
    doors: 4,
    cargoVolumesCuFt: 17,
    fuelType: "gasoline",
    plugType: "none",
    mpgCity: 27,
    mpgHighway: 33,
    mpgCombined: 29,
    msrp: 64875,
    driverLegroomInches: 42.0,
    safetyRating: "TSP+",
    autonomousLevel: "enhanced",
    adasName: "Driving Assistance Professional",
    adasFeatures: {
      adaptiveCruiseControl: true,
      laneKeepAssist: true,
      laneCenteringAssist: true,
      blindSpotMonitoring: true,
      automaticEmergencyBraking: true,
      trafficSignRecognition: true,
      driverMonitoring: true,
      autoLaneChange: true,
      summonParking: false,
      handsFreeHighway: false,
      cityAutopilot: false
    },
    standardFeatures: ["iDrive 8.5", "M Sport Differential", "386 HP Turbo Six"],
    notes: "Performance 3-series. 386 HP, 0-60 in 3.7s.",
    lastUpdated: "2025-11-27",
    dataSource: "bmwusa.com"
  },
  // 2026 Honda 0 SUV
  {
    id: "honda-0-suv-2026",
    year: 2026,
    make: "Honda",
    model: "0 SUV",
    trim: "Base",
    bodyType: "crossover",
    bodyWidthInches: 76.0,
    lengthInches: 186.0,
    heightInches: 65.0,
    seats: 5,
    doors: 4,
    cargoVolumesCuFt: 45,
    fuelType: "electric",
    plugType: "NACS",
    mpge: 110,
    electricRangeMiles: 300,
    msrp: 50000,
    driverLegroomInches: 42.0,
    safetyRating: "Not Rated",
    autonomousLevel: "hands-free",
    adasName: "Honda 0 ADAS",
    adasFeatures: {
      adaptiveCruiseControl: true,
      laneKeepAssist: true,
      laneCenteringAssist: true,
      blindSpotMonitoring: true,
      automaticEmergencyBraking: true,
      trafficSignRecognition: true,
      driverMonitoring: true,
      autoLaneChange: true,
      summonParking: false,
      handsFreeHighway: true,
      cityAutopilot: false
    },
    standardFeatures: ["ASIMO OS", "Steer-by-wire", "Level 3 Capable"],
    notes: "All-new Honda EV platform. Level 3 autonomy capable.",
    lastUpdated: "2025-11-27",
    dataSource: "automobiles.honda.com"
  },
  // 2026 Genesis GV80 (refresh)
  {
    id: "genesis-gv80-2026",
    year: 2026,
    make: "Genesis",
    model: "GV80",
    trim: "2.5T AWD",
    bodyType: "suv",
    bodyWidthInches: 77.8,
    lengthInches: 194.7,
    heightInches: 67.5,
    seats: 7,
    doors: 4,
    cargoVolumesCuFt: 84.0,
    fuelType: "gasoline",
    plugType: "none",
    mpgCity: 21,
    mpgHighway: 25,
    mpgCombined: 22,
    msrp: 60850,
    driverLegroomInches: 41.3,
    safetyRating: "TSP+",
    autonomousLevel: "enhanced",
    adasName: "Highway Driving Assist II",
    adasFeatures: {
      adaptiveCruiseControl: true,
      laneKeepAssist: true,
      laneCenteringAssist: true,
      blindSpotMonitoring: true,
      automaticEmergencyBraking: true,
      trafficSignRecognition: true,
      driverMonitoring: true,
      autoLaneChange: true,
      summonParking: true,
      handsFreeHighway: false,
      cityAutopilot: false
    },
    standardFeatures: ["HDA II", "Remote Parking", "3rd Row Seating"],
    notes: "Luxury 3-row SUV. 300 HP turbo, optional 375 HP 3.5T.",
    lastUpdated: "2025-11-27",
    dataSource: "genesis.com"
  },
  // 2026 Kia EV9 (carry-over but add if not present)
  {
    id: "kia-ev9-2026",
    year: 2026,
    make: "Kia",
    model: "EV9",
    trim: "Wind AWD",
    bodyType: "suv",
    bodyWidthInches: 77.9,
    lengthInches: 197.2,
    heightInches: 70.1,
    seats: 7,
    doors: 4,
    cargoVolumesCuFt: 82.0,
    fuelType: "electric",
    plugType: "CCS1",
    mpge: 85,
    electricRangeMiles: 280,
    msrp: 58900,
    driverLegroomInches: 41.4,
    safetyRating: "TSP+",
    autonomousLevel: "enhanced",
    adasName: "Drive Wise",
    adasFeatures: {
      adaptiveCruiseControl: true,
      laneKeepAssist: true,
      laneCenteringAssist: true,
      blindSpotMonitoring: true,
      automaticEmergencyBraking: true,
      trafficSignRecognition: true,
      driverMonitoring: false,
      autoLaneChange: true,
      summonParking: true,
      handsFreeHighway: false,
      cityAutopilot: false
    },
    standardFeatures: ["Drive Wise", "3rd Row Seating", "800V Architecture"],
    notes: "3-row electric SUV. 800V fast charging, 10-80% in 24 min.",
    lastUpdated: "2025-11-27",
    dataSource: "kia.com"
  },
  // 2026 Hyundai Ioniq 9
  {
    id: "hyundai-ioniq-9-2026",
    year: 2026,
    make: "Hyundai",
    model: "Ioniq 9",
    trim: "Long Range AWD",
    bodyType: "suv",
    bodyWidthInches: 78.0,
    lengthInches: 202.0,
    heightInches: 70.9,
    seats: 7,
    doors: 4,
    cargoVolumesCuFt: 88.0,
    fuelType: "electric",
    plugType: "CCS1",
    mpge: 90,
    electricRangeMiles: 350,
    msrp: 56575,
    driverLegroomInches: 42.0,
    safetyRating: "Not Rated",
    autonomousLevel: "enhanced",
    adasName: "SmartSense",
    adasFeatures: {
      adaptiveCruiseControl: true,
      laneKeepAssist: true,
      laneCenteringAssist: true,
      blindSpotMonitoring: true,
      automaticEmergencyBraking: true,
      trafficSignRecognition: true,
      driverMonitoring: false,
      autoLaneChange: true,
      summonParking: true,
      handsFreeHighway: false,
      cityAutopilot: false
    },
    standardFeatures: ["SmartSense", "110 kWh Battery", "800V Fast Charging"],
    notes: "Flagship 3-row EV. Up to 350 miles range. Swivel seats option.",
    lastUpdated: "2025-11-27",
    dataSource: "hyundaiusa.com"
  }
];

// Add new vehicles (check for duplicates by ID)
const existingIds = new Set(data.cars.map(c => c.id));
for (const vehicle of newVehicles) {
  if (!existingIds.has(vehicle.id)) {
    data.cars.push(vehicle);
    console.log(`Added: ${vehicle.year} ${vehicle.make} ${vehicle.model} ${vehicle.trim || ''}`);
  } else {
    console.log(`Skipped (exists): ${vehicle.id}`);
  }
}

// Update sync date
data.lastSyncDate = new Date().toISOString().split('T')[0];

// Write back
fs.writeFileSync(dataPath, JSON.stringify(data, null, 2));

// Count 2026 vehicles
const count2026 = data.cars.filter(c => c.year === 2026).length;
console.log(`\n2026 vehicles in database: ${count2026}`);
console.log(`Total vehicles: ${data.cars.length}`);

// List all 2026 vehicles
console.log('\n2026 Vehicle List:');
data.cars.filter(c => c.year === 2026).forEach(c => {
  console.log(`  ${c.make} ${c.model} ${c.trim || ''}`);
});
