(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,52683,e=>{"use strict";var s=e.i(43476),t=e.i(71645),a=e.i(96607);function r({title:e,children:a}){let[r,l]=(0,t.useState)(!1),i=(0,t.useRef)(null),n=(0,t.useRef)(null);return(0,t.useEffect)(()=>{function e(e){i.current&&!i.current.contains(e.target)&&n.current&&!n.current.contains(e.target)&&l(!1)}if(r)return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[r]),(0,s.jsxs)("div",{className:"relative inline-block",children:[(0,s.jsx)("button",{ref:n,onClick:()=>l(!r),className:"ml-1 w-4 h-4 rounded-full bg-gray-600 hover:bg-gray-500 text-gray-300 text-xs font-bold inline-flex items-center justify-center",title:`Learn about ${e}`,type:"button",children:"?"}),r&&(0,s.jsxs)("div",{ref:i,className:"absolute z-50 left-0 top-6 w-80 bg-gray-900 border border-gray-600 rounded-lg shadow-xl p-4",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,s.jsx)("h4",{className:"text-white font-semibold",children:e}),(0,s.jsx)("button",{onClick:()=>l(!1),className:"text-gray-400 hover:text-white text-lg leading-none",children:"×"})]}),(0,s.jsx)("div",{className:"text-sm text-gray-300 space-y-2",children:a})]})]})}function l(){return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"border-b border-gray-700 pb-2 mb-2",children:[(0,s.jsx)("p",{className:"font-medium text-blue-400",children:"Full Self-Driving (FSD)"}),(0,s.jsx)("p",{className:"text-gray-400 text-xs",children:"Most advanced. Handles city streets, intersections, and highway driving with minimal intervention. Currently only Tesla offers this level."})]}),(0,s.jsxs)("div",{className:"border-b border-gray-700 pb-2 mb-2",children:[(0,s.jsx)("p",{className:"font-medium text-purple-400",children:"Hands-Free Highway"}),(0,s.jsx)("p",{className:"text-gray-400 text-xs",children:"Can drive hands-free on mapped highways. Examples: GM Super Cruise, Ford BlueCruise, Mercedes Drive Pilot. Driver must stay attentive."})]}),(0,s.jsxs)("div",{className:"border-b border-gray-700 pb-2 mb-2",children:[(0,s.jsx)("p",{className:"font-medium text-blue-300",children:"Enhanced ADAS"}),(0,s.jsx)("p",{className:"text-gray-400 text-xs",children:"Hands-on highway driving with lane centering and adaptive cruise. Maintains lane position and following distance. Most modern vehicles have this."})]}),(0,s.jsxs)("div",{className:"border-b border-gray-700 pb-2 mb-2",children:[(0,s.jsx)("p",{className:"font-medium text-gray-400",children:"Basic ADAS"}),(0,s.jsx)("p",{className:"text-gray-400 text-xs",children:"Lane keep assist (nudges back if drifting) and adaptive cruise control. Doesn't actively center in lane."})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-gray-500",children:"None"}),(0,s.jsx)("p",{className:"text-gray-400 text-xs",children:"No driver assistance features. Rare in modern vehicles."})]})]})}function i(){return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"border-b border-gray-700 pb-2 mb-2",children:[(0,s.jsx)("p",{className:"font-medium text-white",children:"Hands-Free Highway"}),(0,s.jsx)("p",{className:"text-gray-400 text-xs",children:"Allows completely hands-off driving on compatible highways. Uses cameras/radar to monitor road and driver attention. Only a few vehicles offer this feature."})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-white",children:"Auto Lane Change"}),(0,s.jsx)("p",{className:"text-gray-400 text-xs",children:"Vehicle can automatically change lanes when you activate the turn signal or when the system determines it's safe. Usually requires driver supervision."})]})]})}function n(){return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"border-b border-gray-700 pb-2 mb-2",children:[(0,s.jsx)("p",{className:"font-medium text-green-400",children:"TSP+ (Top Safety Pick+)"}),(0,s.jsx)("p",{className:"text-gray-400 text-xs",children:'Highest IIHS award. Requires "Good" ratings in all crash tests, good headlights on all trims, and excellent pedestrian detection.'})]}),(0,s.jsxs)("div",{className:"border-b border-gray-700 pb-2 mb-2",children:[(0,s.jsx)("p",{className:"font-medium text-green-300",children:"TSP (Top Safety Pick)"}),(0,s.jsx)("p",{className:"text-gray-400 text-xs",children:'Second-highest award. Requires "Good" crash ratings and at least "Acceptable" headlights and pedestrian detection.'})]}),(0,s.jsxs)("div",{className:"border-b border-gray-700 pb-2 mb-2",children:[(0,s.jsx)("p",{className:"font-medium text-blue-400",children:"Good"}),(0,s.jsx)("p",{className:"text-gray-400 text-xs",children:'Passes all IIHS crash tests with "Good" ratings but may not meet TSP criteria for headlights or other features.'})]}),(0,s.jsxs)("div",{className:"border-b border-gray-700 pb-2 mb-2",children:[(0,s.jsx)("p",{className:"font-medium text-yellow-400",children:"Acceptable"}),(0,s.jsx)("p",{className:"text-gray-400 text-xs",children:'Passes IIHS crash tests with mixed ratings. Some areas may be "Acceptable" or "Marginal" instead of "Good".'})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-gray-500",children:"Not Rated"}),(0,s.jsx)("p",{className:"text-gray-400 text-xs",children:"Vehicle hasn't been tested by IIHS yet, usually because it's too new or low-volume."})]}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-3 italic",children:"Note: 2025 IIHS criteria are stricter than previous years. Many vehicles that earned TSP in 2024 no longer qualify."})]})}function o(){return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"border-b border-gray-700 pb-2 mb-2",children:[(0,s.jsx)("p",{className:"font-medium text-white",children:"Mirrors Extended"}),(0,s.jsx)("p",{className:"text-gray-400 text-xs",children:"Total width with side mirrors in normal driving position. This is the width you need for driving through narrow spaces."})]}),(0,s.jsxs)("div",{className:"border-b border-gray-700 pb-2 mb-2",children:[(0,s.jsx)("p",{className:"font-medium text-white",children:"Mirrors Folded"}),(0,s.jsx)("p",{className:"text-gray-400 text-xs",children:"Width with side mirrors folded in against the body. Useful for tight parking garages or narrow parking spaces. Not all vehicles have power-folding mirrors."})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-gray-400",children:"Body Width"}),(0,s.jsx)("p",{className:"text-gray-400 text-xs",children:"Width of just the vehicle body, not including mirrors. Rarely used in practice but shown for reference."})]})]})}function d(){return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"border-b border-gray-700 pb-2 mb-2",children:[(0,s.jsx)("p",{className:"font-medium text-blue-400",children:"Electric (EV)"}),(0,s.jsx)("p",{className:"text-gray-400 text-xs",children:"100% battery-powered. No gas engine. Charges at home or public stations. Zero tailpipe emissions."})]}),(0,s.jsxs)("div",{className:"border-b border-gray-700 pb-2 mb-2",children:[(0,s.jsx)("p",{className:"font-medium text-teal-400",children:"Plug-in Hybrid (PHEV)"}),(0,s.jsx)("p",{className:"text-gray-400 text-xs",children:"Has both electric motor and gas engine. Can drive 20-50 miles on battery alone, then switches to gas. Plugs in to charge."})]}),(0,s.jsxs)("div",{className:"border-b border-gray-700 pb-2 mb-2",children:[(0,s.jsx)("p",{className:"font-medium text-green-400",children:"Hybrid"}),(0,s.jsx)("p",{className:"text-gray-400 text-xs",children:"Gas engine with electric assist. Battery charges from regenerative braking. Cannot plug in. Better fuel economy than gas-only."})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-gray-400",children:"Gasoline"}),(0,s.jsx)("p",{className:"text-gray-400 text-xs",children:"Traditional internal combustion engine. Most common type. Uses regular or premium gasoline."})]})]})}function c(){return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"border-b border-gray-700 pb-2 mb-2",children:[(0,s.jsx)("p",{className:"font-medium text-white",children:"NACS / Tesla"}),(0,s.jsx)("p",{className:"text-gray-400 text-xs",children:"North American Charging Standard. Originally Tesla-only, now becoming the standard for most new EVs. Access to Tesla Supercharger network."})]}),(0,s.jsxs)("div",{className:"border-b border-gray-700 pb-2 mb-2",children:[(0,s.jsx)("p",{className:"font-medium text-white",children:"CCS1"}),(0,s.jsx)("p",{className:"text-gray-400 text-xs",children:"Combined Charging System (Type 1). Previously the standard for non-Tesla EVs in North America. Supports DC fast charging."})]}),(0,s.jsxs)("div",{className:"border-b border-gray-700 pb-2 mb-2",children:[(0,s.jsx)("p",{className:"font-medium text-white",children:"J1772"}),(0,s.jsx)("p",{className:"text-gray-400 text-xs",children:"Standard Level 2 charging plug. Used by plug-in hybrids and older EVs. Slower charging, up to ~19kW."})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-white",children:"CHAdeMO"}),(0,s.jsx)("p",{className:"text-gray-400 text-xs",children:"Japanese DC fast charging standard. Mostly used by older Nissan Leafs. Being phased out in North America."})]})]})}let m=[{value:"gasoline",label:"Gas"},{value:"hybrid",label:"Hybrid"},{value:"plug-in-hybrid",label:"Plug-in Hybrid"},{value:"electric",label:"Electric"},{value:"diesel",label:"Diesel"}],x=[{value:"none",label:"None (Gas)"},{value:"J1772",label:"J1772"},{value:"CCS1",label:"CCS1"},{value:"CHAdeMO",label:"CHAdeMO"},{value:"NACS",label:"NACS/Tesla"}],g=[{value:"sedan",label:"Sedan"},{value:"crossover",label:"Crossover"},{value:"suv",label:"SUV"},{value:"truck",label:"Truck"},{value:"minivan",label:"Minivan"},{value:"hatchback",label:"Hatchback"},{value:"wagon",label:"Wagon"},{value:"coupe",label:"Coupe"}],h=[2,4,5],u=[2,4,5,6,7,8],p=[{value:"TSP+",label:"TSP+"},{value:"TSP",label:"TSP"},{value:"Good",label:"Good"},{value:"Acceptable",label:"Acceptable"},{value:"Pending",label:"Pending"},{value:"Not Rated",label:"Not Rated"}],b=[{value:"full-self-driving",label:"Full Self-Driving"},{value:"hands-free",label:"Hands-Free Highway"},{value:"enhanced",label:"Enhanced ADAS"},{value:"basic",label:"Basic ADAS"},{value:"none",label:"None"}],y=[{name:"EVs Under $50k",filters:{fuelTypes:["electric"],maxPrice:5e4}},{name:"Family SUVs",filters:{bodyTypes:["suv","crossover"],minSeats:6}},{name:"Top Safety",filters:{safetyRatings:["TSP+"]}},{name:"Fuel Efficient",filters:{minMpg:35}},{name:"Long Range EVs",filters:{fuelTypes:["electric"],minEvRange:300}},{name:"Hands-Free Driving",filters:{autonomousLevels:["hands-free","full-self-driving"]}},{name:"Compact",filters:{bodyTypes:["crossover","hatchback","sedan"],maxPrice:4e4}}];function f({filters:e,onFiltersChange:t,availableMakes:a,hasFavorites:f}){let j=(s,a)=>{t({...e,[s]:a})};return(0,s.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4 space-y-4",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-white border-b border-gray-600 pb-2",children:"Filters"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-300",children:"Quick Presets"}),(0,s.jsx)("div",{className:"flex gap-2 flex-wrap",children:y.map(e=>(0,s.jsx)("button",{onClick:()=>t({...e.filters}),className:"px-3 py-1 rounded text-xs bg-purple-800 text-purple-200 hover:bg-purple-700",children:e.name},e.name))})]}),f&&(0,s.jsx)("div",{className:"space-y-2",children:(0,s.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,s.jsx)("input",{type:"checkbox",checked:e.showFavoritesOnly??!1,onChange:e=>j("showFavoritesOnly",e.target.checked||void 0),className:"w-4 h-4 rounded border-gray-600 bg-gray-700 text-yellow-500 focus:ring-yellow-500"}),(0,s.jsx)("span",{className:"text-sm font-medium text-yellow-400",children:"★ Show Favorites Only"})]})}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-300",children:"Year"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("input",{type:"number",min:2010,max:2026,placeholder:"Min",value:e.minYear??"",onChange:e=>j("minYear",e.target.value?parseInt(e.target.value):void 0),className:"w-20 px-2 py-1 bg-gray-700 border border-gray-600 rounded text-white text-sm"}),(0,s.jsx)("span",{className:"text-gray-400 self-center",children:"to"}),(0,s.jsx)("input",{type:"number",min:2010,max:2026,placeholder:"Max",value:e.maxYear??"",onChange:e=>j("maxYear",e.target.value?parseInt(e.target.value):void 0),className:"w-20 px-2 py-1 bg-gray-700 border border-gray-600 rounded text-white text-sm"})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-300",children:"Price Range (MSRP)"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("input",{type:"number",min:0,step:1e3,placeholder:"Min $",value:e.minPrice??"",onChange:e=>j("minPrice",e.target.value?parseInt(e.target.value):void 0),className:"w-24 px-2 py-1 bg-gray-700 border border-gray-600 rounded text-white text-sm"}),(0,s.jsx)("span",{className:"text-gray-400 self-center",children:"to"}),(0,s.jsx)("input",{type:"number",min:0,step:1e3,placeholder:"Max $",value:e.maxPrice??"",onChange:e=>j("maxPrice",e.target.value?parseInt(e.target.value):void 0),className:"w-24 px-2 py-1 bg-gray-700 border border-gray-600 rounded text-white text-sm"})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-gray-300",children:["Max Width for Garage (inches)",(0,s.jsx)(r,{title:"Vehicle Width",children:(0,s.jsx)(o,{})})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("input",{type:"number",min:60,max:120,placeholder:"e.g., 90",value:e.maxWidthInches??"",onChange:e=>j("maxWidthInches",e.target.value?parseInt(e.target.value):void 0),className:"w-24 px-2 py-1 bg-gray-700 border border-gray-600 rounded text-white text-sm"}),(0,s.jsxs)("select",{value:e.widthFilterType??"extended",onChange:e=>j("widthFilterType",e.target.value),className:"px-2 py-1 bg-gray-700 border border-gray-600 rounded text-white text-sm",children:[(0,s.jsx)("option",{value:"extended",children:"Mirrors Extended"}),(0,s.jsx)("option",{value:"folded",children:"Mirrors Folded"})]})]}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:"folded"===e.widthFilterType?"Filters by width with mirrors folded in":"Filters by width with mirrors extended out"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-300",children:"Min Driver Legroom (inches)"}),(0,s.jsx)("input",{type:"number",min:35,max:50,step:.5,placeholder:"e.g., 42",value:e.minLegroom??"",onChange:e=>j("minLegroom",e.target.value?parseFloat(e.target.value):void 0),className:"w-24 px-2 py-1 bg-gray-700 border border-gray-600 rounded text-white text-sm"}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:"Filter for taller drivers"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-300",children:"Min Cargo Volume (cu ft)"}),(0,s.jsx)("input",{type:"number",min:0,max:150,placeholder:"e.g., 60",value:e.minCargo??"",onChange:e=>j("minCargo",e.target.value?parseFloat(e.target.value):void 0),className:"w-24 px-2 py-1 bg-gray-700 border border-gray-600 rounded text-white text-sm"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-300",children:"Min MPG/MPGe"}),(0,s.jsx)("input",{type:"number",min:0,max:200,placeholder:"e.g., 30",value:e.minMpg??"",onChange:e=>j("minMpg",e.target.value?parseInt(e.target.value):void 0),className:"w-24 px-2 py-1 bg-gray-700 border border-gray-600 rounded text-white text-sm"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-300",children:"Min EV Range (miles)"}),(0,s.jsx)("input",{type:"number",min:0,max:500,placeholder:"e.g., 250",value:e.minEvRange??"",onChange:e=>j("minEvRange",e.target.value?parseInt(e.target.value):void 0),className:"w-24 px-2 py-1 bg-gray-700 border border-gray-600 rounded text-white text-sm"}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:"Only shows EVs/PHEVs"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-gray-300",children:["IIHS Safety Rating",(0,s.jsx)(r,{title:"IIHS Safety Ratings",children:(0,s.jsx)(n,{})})]}),(0,s.jsx)("div",{className:"flex gap-2 flex-wrap",children:p.map(t=>(0,s.jsx)("button",{onClick:()=>{var s;let a,r;return s=t.value,void j("safetyRatings",(r=(a=e.safetyRatings??[]).includes(s)?a.filter(e=>e!==s):[...a,s]).length>0?r:void 0)},className:`px-3 py-1 rounded text-sm ${e.safetyRatings?.includes(t.value)?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:t.label},t.value))})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-300",children:"Min Review Score (0-100)"}),(0,s.jsx)("input",{type:"number",min:0,max:100,placeholder:"e.g., 70",value:e.minReviewScore??"",onChange:e=>j("minReviewScore",e.target.value?parseInt(e.target.value):void 0),className:"w-24 px-2 py-1 bg-gray-700 border border-gray-600 rounded text-white text-sm"}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:"Aggregated expert review scores from MotorMashup"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-gray-300",children:["Driver Assistance (ADAS)",(0,s.jsx)(r,{title:"Driver Assistance Levels",children:(0,s.jsx)(l,{})})]}),(0,s.jsx)("div",{className:"flex gap-2 flex-wrap",children:b.map(t=>(0,s.jsx)("button",{onClick:()=>{var s;let a,r;return s=t.value,void j("autonomousLevels",(r=(a=e.autonomousLevels??[]).includes(s)?a.filter(e=>e!==s):[...a,s]).length>0?r:void 0)},className:`px-3 py-1 rounded text-sm ${e.autonomousLevels?.includes(t.value)?"bg-purple-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:t.label},t.value))}),(0,s.jsxs)("div",{className:"flex items-center gap-4 mt-2",children:[(0,s.jsxs)("label",{className:"flex items-center gap-2 text-sm text-gray-300",children:[(0,s.jsx)("input",{type:"checkbox",checked:!0===e.hasHandsFree,onChange:e=>j("hasHandsFree",!!e.target.checked||void 0),className:"rounded border-gray-600 bg-gray-700 text-purple-600"}),"Hands-Free Highway"]}),(0,s.jsxs)("label",{className:"flex items-center gap-2 text-sm text-gray-300",children:[(0,s.jsx)("input",{type:"checkbox",checked:!0===e.hasAutoLaneChange,onChange:e=>j("hasAutoLaneChange",!!e.target.checked||void 0),className:"rounded border-gray-600 bg-gray-700 text-purple-600"}),"Auto Lane Change"]}),(0,s.jsx)(r,{title:"ADAS Features",children:(0,s.jsx)(i,{})})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-300",children:"Doors"}),(0,s.jsx)("div",{className:"flex gap-2 flex-wrap",children:h.map(t=>(0,s.jsx)("button",{onClick:()=>{let s,a;j("doors",(a=(s=e.doors??[]).includes(t)?s.filter(e=>e!==t):[...s,t]).length>0?a:void 0)},className:`px-3 py-1 rounded text-sm ${e.doors?.includes(t)?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:t},t))})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-300",children:"Seats"}),(0,s.jsx)("div",{className:"flex gap-2 flex-wrap",children:u.map(t=>(0,s.jsx)("button",{onClick:()=>{let s,a;j("seats",(a=(s=e.seats??[]).includes(t)?s.filter(e=>e!==t):[...s,t]).length>0?a:void 0)},className:`px-3 py-1 rounded text-sm ${e.seats?.includes(t)?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:t},t))})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-300",children:"Body Type"}),(0,s.jsx)("div",{className:"flex gap-2 flex-wrap",children:g.map(t=>(0,s.jsx)("button",{onClick:()=>{var s;let a,r;return s=t.value,void j("bodyTypes",(r=(a=e.bodyTypes??[]).includes(s)?a.filter(e=>e!==s):[...a,s]).length>0?r:void 0)},className:`px-3 py-1 rounded text-sm ${e.bodyTypes?.includes(t.value)?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:t.label},t.value))})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-gray-300",children:["Fuel Type",(0,s.jsx)(r,{title:"Fuel Types",children:(0,s.jsx)(d,{})})]}),(0,s.jsx)("div",{className:"flex gap-2 flex-wrap",children:m.map(t=>(0,s.jsx)("button",{onClick:()=>{var s;let a,r;return s=t.value,void j("fuelTypes",(r=(a=e.fuelTypes??[]).includes(s)?a.filter(e=>e!==s):[...a,s]).length>0?r:void 0)},className:`px-3 py-1 rounded text-sm ${e.fuelTypes?.includes(t.value)?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:t.label},t.value))})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-gray-300",children:["Plug Type",(0,s.jsx)(r,{title:"EV Plug Types",children:(0,s.jsx)(c,{})})]}),(0,s.jsx)("div",{className:"flex gap-2 flex-wrap",children:x.map(t=>(0,s.jsx)("button",{onClick:()=>{var s;let a,r;return s=t.value,void j("plugTypes",(r=(a=e.plugTypes??[]).includes(s)?a.filter(e=>e!==s):[...a,s]).length>0?r:void 0)},className:`px-3 py-1 rounded text-sm ${e.plugTypes?.includes(t.value)?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:t.label},t.value))})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-300",children:"Makes"}),(0,s.jsx)("div",{className:"flex gap-2 flex-wrap max-h-32 overflow-y-auto",children:a.map(t=>(0,s.jsx)("button",{onClick:()=>{let s,a;j("makes",(a=(s=e.makes??[]).includes(t)?s.filter(e=>e!==t):[...s,t]).length>0?a:void 0)},className:`px-3 py-1 rounded text-sm ${e.makes?.includes(t)?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:t},t))})]}),(0,s.jsx)("button",{onClick:()=>t({}),className:"w-full py-2 bg-gray-700 hover:bg-gray-600 text-gray-300 rounded text-sm",children:"Clear All Filters"})]})}let j={"TSP+":5,TSP:4,Good:3,Acceptable:2,Pending:1,"Not Rated":0,undefined:-1},v={"full-self-driving":4,"hands-free":3,enhanced:2,basic:1,none:0,undefined:-1},N={excellent:4,good:3,fair:2,poor:1,undefined:0},w={low:4,medium:3,high:2,"very-high":1,undefined:0},C={excellent:5,good:4,average:3,"below-average":2,poor:1,undefined:0};function k(e){return void 0===e?"N/A":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0}).format(e)}function S(e){return"electric"===e.fuelType?e.mpge?`${e.mpge} MPGe`:"N/A":e.mpgCombined?`${e.mpgCombined} MPG`:"N/A"}function I(e,s){return e.mirrorWidthInches??e.bodyWidthInches+s}function T(e,s,t,a){let r,l;if("bodyWidthInches"===t?(r=I(e,a),l=I(s,a)):(r=e[t],l=s[t]),void 0===r||void 0===l)return null;let i=l-r;if(0===i)return"same";let n=i>0?"+":"";return"msrp"===t||"usedPriceLow"===t||"usedPriceHigh"===t?n+k(i):n+i.toFixed(1)}function F(e){return`${e.year} ${e.make} ${e.model}${e.trim?` ${e.trim}`:""}`}let R="carcompare_garage_dimensions",L={width:120,length:240,height:96};function $({car:e,mirrorBuffer:a,onClose:r}){let[l,i]=(0,t.useState)(L),[n,o]=(0,t.useState)(!1);(0,t.useEffect)(()=>{let e=localStorage.getItem(R);if(e)try{i(JSON.parse(e))}catch(e){console.error("Failed to parse garage dimensions:",e)}o(!0)},[]),(0,t.useEffect)(()=>{n&&localStorage.setItem(R,JSON.stringify(l))},[l,n]);let d=I(e,a),c=e.lengthInches??180,m=e.heightInches??65,x=(0,t.useMemo)(()=>{let e=l.width-d,s=l.length-c,t=l.height-m,a=e/2;return{fits:e>=0&&s>=0&&t>=0,comfortable:a>=24&&s>=36&&t>=6,widthClearance:e,lengthClearance:s,heightClearance:t,sideClearance:a}},[l,d,c,m]),g=.9*Math.min(400/l.width,400/l.length),h=l.width*g,u=l.length*g,p=d*g,b=c*g,y=(e,s)=>{i(t=>({...t,[e]:12*s}))},f=e=>{let s=Math.floor(e/12),t=Math.round(e%12);return 0===t?`${s}'`:`${s}' ${t}"`},j=(e,s)=>e<0?"text-red-400":e<s?"text-yellow-400":"text-green-400";return(0,s.jsx)("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4",onClick:r,children:(0,s.jsxs)("div",{className:"bg-gray-800 rounded-lg max-w-2xl w-full p-6 max-h-[90vh] overflow-y-auto",onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-xl font-bold text-white",children:"Garage Fit Visualizer"}),(0,s.jsx)("p",{className:"text-gray-400 text-sm mt-1",children:F(e)})]}),(0,s.jsx)("button",{onClick:r,className:"text-gray-400 hover:text-white text-2xl leading-none p-2",children:"×"})]}),(0,s.jsxs)("div",{className:"bg-gray-900 rounded-lg p-4 mb-6",children:[(0,s.jsx)("h4",{className:"text-white font-medium mb-3",children:"Your Garage Dimensions"}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-gray-400 text-sm block mb-1",children:"Width (ft)"}),(0,s.jsx)("input",{type:"number",value:Math.round(l.width/12),onChange:e=>y("width",parseInt(e.target.value)||0),className:"w-full bg-gray-700 text-white rounded px-3 py-2 text-center",min:6,max:30})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-gray-400 text-sm block mb-1",children:"Length (ft)"}),(0,s.jsx)("input",{type:"number",value:Math.round(l.length/12),onChange:e=>y("length",parseInt(e.target.value)||0),className:"w-full bg-gray-700 text-white rounded px-3 py-2 text-center",min:10,max:40})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-gray-400 text-sm block mb-1",children:"Height (ft)"}),(0,s.jsx)("input",{type:"number",value:Math.round(l.height/12),onChange:e=>y("height",parseInt(e.target.value)||0),className:"w-full bg-gray-700 text-white rounded px-3 py-2 text-center",min:6,max:15})]})]}),(0,s.jsx)("p",{className:"text-gray-500 text-xs mt-2",children:"Tip: Measure from wall to wall, not including storage or shelving"})]}),(0,s.jsx)("div",{className:`rounded-lg p-4 mb-6 border-2 ${x.fits?x.comfortable?"bg-green-900/30 border-green-600":"bg-yellow-900/30 border-yellow-600":"bg-red-900/30 border-red-600"}`,children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("span",{className:"text-3xl",children:x.fits?x.comfortable?"✓":"⚠":"✗"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:`text-lg font-semibold ${x.fits?x.comfortable?"text-green-400":"text-yellow-400":"text-red-400"}`,children:x.fits?x.comfortable?"Comfortable Fit":"Tight Fit":"Does Not Fit"}),(0,s.jsx)("p",{className:"text-gray-400 text-sm",children:x.fits?x.comfortable?"Plenty of room to open doors and walk around":"Will fit, but may be difficult to get in/out":"This vehicle is too large for your garage"})]})]})}),(0,s.jsxs)("div",{className:"bg-gray-900 rounded-lg p-4 mb-6",children:[(0,s.jsx)("h4",{className:"text-white font-medium mb-3",children:"Top-Down View"}),(0,s.jsx)("div",{className:"flex justify-center",children:(0,s.jsxs)("div",{className:"relative bg-gray-700 border-4 border-gray-500 rounded",style:{width:h,height:u},children:[(0,s.jsx)("span",{className:"absolute -top-6 left-1/2 -translate-x-1/2 text-gray-400 text-xs",children:f(l.width)}),(0,s.jsx)("span",{className:"absolute -left-10 top-1/2 -translate-y-1/2 -rotate-90 text-gray-400 text-xs whitespace-nowrap",children:f(l.length)}),(0,s.jsxs)("div",{className:`absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 rounded ${x.fits?"bg-blue-600":"bg-red-600"}`,style:{width:p,height:b},children:[(0,s.jsx)("div",{className:"absolute top-1 left-1/2 -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-b-8 border-l-transparent border-r-transparent border-b-white/50"}),(0,s.jsx)("span",{className:"absolute bottom-1 left-1/2 -translate-x-1/2 text-white/70 text-xs",children:"Car"})]}),x.fits&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"absolute left-1 top-1/2 -translate-y-1/2 text-xs text-green-400",children:f(x.sideClearance)}),(0,s.jsx)("div",{className:"absolute right-1 top-1/2 -translate-y-1/2 text-xs text-green-400",children:f(x.sideClearance)}),(0,s.jsx)("div",{className:"absolute bottom-1 left-1/2 -translate-x-1/2 text-xs text-green-400",children:f(x.lengthClearance/2)})]}),(0,s.jsx)("div",{className:"absolute bottom-0 left-1/4 right-1/4 h-1 bg-yellow-500"})]})}),(0,s.jsx)("p",{className:"text-center text-gray-500 text-xs mt-4",children:"Yellow line = garage door"})]}),(0,s.jsxs)("div",{className:"bg-gray-900 rounded-lg p-4 mb-6",children:[(0,s.jsx)("h4",{className:"text-white font-medium mb-3",children:"Clearance Details"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-gray-400",children:"Car Width:"}),(0,s.jsxs)("span",{className:"text-white",children:[d.toFixed(1),'"']})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-gray-400",children:"Side Clearance:"}),(0,s.jsx)("span",{className:j(x.sideClearance,24),children:x.sideClearance>=0?f(x.sideClearance):"Too wide"})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-gray-400",children:"Car Length:"}),(0,s.jsxs)("span",{className:"text-white",children:[c.toFixed(1),'"']})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-gray-400",children:"Front/Back Clearance:"}),(0,s.jsx)("span",{className:j(x.lengthClearance,36),children:x.lengthClearance>=0?f(x.lengthClearance):"Too long"})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-gray-400",children:"Car Height:"}),(0,s.jsxs)("span",{className:"text-white",children:[m.toFixed(1),'"']})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-gray-400",children:"Overhead Clearance:"}),(0,s.jsx)("span",{className:j(x.heightClearance,6),children:x.heightClearance>=0?f(x.heightClearance):"Too tall"})]})]})]}),(0,s.jsxs)("div",{className:"bg-gray-900 rounded-lg p-4",children:[(0,s.jsx)("h4",{className:"text-white font-medium mb-2",children:"Recommendations"}),(0,s.jsxs)("ul",{className:"text-gray-400 text-sm space-y-1",children:[x.sideClearance<24&&x.sideClearance>=0&&(0,s.jsx)("li",{children:"• Less than 2ft on each side - opening doors may be difficult"}),x.sideClearance<18&&x.sideClearance>=0&&(0,s.jsx)("li",{children:"• Consider folding mirrors when parked"}),x.lengthClearance<36&&x.lengthClearance>=0&&(0,s.jsx)("li",{children:"• Limited space front/back - be careful pulling in"}),x.heightClearance<12&&x.heightClearance>=0&&(0,s.jsx)("li",{children:"• Low ceiling clearance - watch for roof racks"}),x.comfortable&&(0,s.jsx)("li",{className:"text-green-400",children:"• Great fit! Plenty of room for comfortable entry/exit"}),!x.fits&&(0,s.jsx)("li",{className:"text-red-400",children:"• This vehicle will not fit in your garage"})]})]}),(0,s.jsx)("p",{className:"text-gray-500 text-xs mt-4 text-center",children:"Dimensions are saved automatically for future comparisons"})]})})}function P({field:e,label:t,sortConfig:a,onSortChange:r}){let l=a.field===e;return(0,s.jsx)("th",{onClick:()=>r(e),className:"px-3 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider cursor-pointer hover:bg-gray-700 select-none",children:(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[t,l&&(0,s.jsx)("span",{className:"text-blue-400",children:"asc"===a.direction?"▲":"▼"})]})})}function M({diff:e,positive:t}){if(!e)return null;if("same"===e)return(0,s.jsx)("span",{className:"text-gray-500 text-xs ml-1",children:"(=)"});let a=e.startsWith("+"),r="higher"===t?a:"lower"===t?!a:null,l="text-gray-400";return!0===r&&(l="text-green-400"),!1===r&&(l="text-red-400"),(0,s.jsxs)("span",{className:`text-xs ml-1 ${l}`,children:["(",e,")"]})}function A({cars:e,sortConfig:a,onSortChange:r,baselineCar:l,mirrorBuffer:i,onSelectBaseline:n,compareList:o,onToggleCompare:d,favorites:c,onToggleFavorite:m,visibleColumns:x}){let[g,h]=(0,t.useState)(null);return 0===e.length?(0,s.jsx)("div",{className:"bg-gray-800 rounded-lg p-8 text-center text-gray-400",children:"No cars match your filters. Try adjusting the filter criteria."}):(0,s.jsxs)(s.Fragment,{children:[g&&(0,s.jsx)(J,{car:g,onClose:()=>h(null),baselineCar:l,mirrorBuffer:i}),(0,s.jsxs)("div",{className:"overflow-x-auto bg-gray-800 rounded-lg max-h-[calc(100vh-300px)] overflow-y-auto",children:[(0,s.jsxs)("table",{className:"min-w-full divide-y divide-gray-700",children:[(0,s.jsx)("thead",{className:"bg-gray-900 sticky top-0 z-10",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-2 py-2 text-center text-xs font-medium text-gray-300 uppercase tracking-wider w-10",children:(0,s.jsx)("span",{title:"Add to favorites",children:"★"})}),(0,s.jsx)("th",{className:"px-2 py-2 text-center text-xs font-medium text-gray-300 uppercase tracking-wider w-10",children:(0,s.jsx)("span",{title:"Add to compare",children:"⚖"})}),(0,s.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Base"}),(0,s.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Image"}),x.includes("year")&&(0,s.jsx)(P,{field:"year",label:"Year",sortConfig:a,onSortChange:r}),x.includes("make")&&(0,s.jsx)(P,{field:"make",label:"Make",sortConfig:a,onSortChange:r}),x.includes("model")&&(0,s.jsx)(P,{field:"model",label:"Model",sortConfig:a,onSortChange:r}),x.includes("bodyType")&&(0,s.jsx)(P,{field:"bodyType",label:"Type",sortConfig:a,onSortChange:r}),x.includes("safetyRating")&&(0,s.jsx)(P,{field:"safetyRating",label:"Safety",sortConfig:a,onSortChange:r}),x.includes("reviewScore")&&(0,s.jsx)(P,{field:"reviewScore",label:"Score",sortConfig:a,onSortChange:r}),x.includes("autonomousLevel")&&(0,s.jsx)(P,{field:"autonomousLevel",label:"ADAS",sortConfig:a,onSortChange:r}),x.includes("seats")&&(0,s.jsx)(P,{field:"seats",label:"Seats",sortConfig:a,onSortChange:r}),x.includes("driverLegroomInches")&&(0,s.jsx)(P,{field:"driverLegroomInches",label:"Legroom",sortConfig:a,onSortChange:r}),x.includes("mirrorsFoldedWidthInches")&&(0,s.jsx)(P,{field:"mirrorsFoldedWidthInches",label:"Folded",sortConfig:a,onSortChange:r}),x.includes("bodyWidthInches")&&(0,s.jsx)(P,{field:"bodyWidthInches",label:"Extended",sortConfig:a,onSortChange:r}),x.includes("heightInches")&&(0,s.jsx)(P,{field:"heightInches",label:"Height",sortConfig:a,onSortChange:r}),x.includes("groundClearanceInches")&&(0,s.jsx)(P,{field:"groundClearanceInches",label:"Clearance",sortConfig:a,onSortChange:r}),x.includes("fuelType")&&(0,s.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Fuel"}),x.includes("plugType")&&(0,s.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Plug"}),x.includes("mpgCombined")&&(0,s.jsx)(P,{field:"mpgCombined",label:"Efficiency",sortConfig:a,onSortChange:r}),x.includes("electricRangeMiles")&&(0,s.jsx)(P,{field:"electricRangeMiles",label:"EV Range",sortConfig:a,onSortChange:r}),x.includes("msrp")&&(0,s.jsx)(P,{field:"msrp",label:"MSRP",sortConfig:a,onSortChange:r}),x.includes("leaseRating")&&(0,s.jsx)(P,{field:"leaseRating",label:"Lease",sortConfig:a,onSortChange:r}),x.includes("depreciationCategory")&&(0,s.jsx)(P,{field:"depreciationCategory",label:"Deprec.",sortConfig:a,onSortChange:r}),x.includes("fiveYearResalePercent")&&(0,s.jsx)(P,{field:"fiveYearResalePercent",label:"Resale",sortConfig:a,onSortChange:r}),x.includes("reliabilityRating")&&(0,s.jsx)(P,{field:"reliabilityRating",label:"Reliability",sortConfig:a,onSortChange:r}),x.includes("insuranceCostAnnual")&&(0,s.jsx)(P,{field:"insuranceCostAnnual",label:"Insure/yr",sortConfig:a,onSortChange:r}),x.includes("maintenanceCostAnnual")&&(0,s.jsx)(P,{field:"maintenanceCostAnnual",label:"Maint/yr",sortConfig:a,onSortChange:r}),x.includes("zeroToSixtySeconds")&&(0,s.jsx)(P,{field:"zeroToSixtySeconds",label:"0-60",sortConfig:a,onSortChange:r}),x.includes("horsepower")&&(0,s.jsx)(P,{field:"horsepower",label:"HP",sortConfig:a,onSortChange:r}),x.includes("notes")&&(0,s.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider max-w-xs",children:"Notes"})]})}),(0,s.jsx)("tbody",{className:"divide-y divide-gray-700",children:e.map((e,t)=>{let a=l?.id===e.id,r=I(e,i),g=c.includes(e.id),u=o.includes(e.id);return(0,s.jsxs)("tr",{className:`table-row-hover ${a?"bg-blue-900/30":g?"bg-yellow-900/20":"hover:bg-gray-700/50"}`,children:[(0,s.jsx)("td",{className:"px-2 py-2 text-center",children:(0,s.jsx)("button",{onClick:()=>m(e.id),className:`text-xl transition-colors ${g?"text-yellow-400":"text-gray-600 hover:text-yellow-400"}`,title:g?"Remove from favorites":"Add to favorites",children:"★"})}),(0,s.jsx)("td",{className:"px-2 py-2 text-center",children:(0,s.jsx)("input",{type:"checkbox",checked:u,onChange:()=>d(e.id),className:"w-4 h-4 rounded border-gray-600 bg-gray-700 text-blue-600 focus:ring-blue-500",title:"Add to comparison"})}),(0,s.jsx)("td",{className:"px-3 py-2",children:(0,s.jsx)("button",{onClick:()=>n(e),className:`px-2 py-1 rounded text-xs ${a?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:a?"✓":"Set"})}),(0,s.jsx)("td",{className:"px-3 py-2",children:(0,s.jsx)(_,{car:e,onImageClick:()=>h(e)})}),x.includes("year")&&(0,s.jsx)("td",{className:"px-3 py-2 text-sm text-white",children:e.year}),x.includes("make")&&(0,s.jsx)("td",{className:"px-3 py-2 text-sm text-white",children:e.make}),x.includes("model")&&(0,s.jsxs)("td",{className:"px-3 py-2 text-sm text-white",children:[e.model,e.trim&&(0,s.jsx)("span",{className:"text-gray-400 text-xs ml-1",children:e.trim})]}),x.includes("bodyType")&&(0,s.jsx)("td",{className:"px-3 py-2 text-sm",children:(0,s.jsx)(V,{bodyType:e.bodyType})}),x.includes("safetyRating")&&(0,s.jsx)("td",{className:"px-3 py-2 text-sm",children:(0,s.jsx)(H,{rating:e.safetyRating})}),x.includes("reviewScore")&&(0,s.jsx)("td",{className:"px-3 py-2 text-sm",children:(0,s.jsx)(E,{score:e.reviewScore})}),x.includes("autonomousLevel")&&(0,s.jsx)("td",{className:"px-3 py-2 text-sm",children:(0,s.jsx)(D,{level:e.autonomousLevel,name:e.adasName})}),x.includes("seats")&&(0,s.jsxs)("td",{className:"px-3 py-2 text-sm text-white",children:[e.seats,l&&!a&&(0,s.jsx)(M,{diff:T(l,e,"seats",i),positive:"higher"})]}),x.includes("driverLegroomInches")&&(0,s.jsxs)("td",{className:"px-3 py-2 text-sm text-white",children:[e.driverLegroomInches?`${e.driverLegroomInches}"`:"-",l&&!a&&e.driverLegroomInches&&(0,s.jsx)(M,{diff:T(l,e,"driverLegroomInches",i),positive:"higher"})]}),x.includes("mirrorsFoldedWidthInches")&&(0,s.jsxs)("td",{className:"px-3 py-2 text-sm text-white",title:"Width with mirrors folded",children:[e.mirrorsFoldedWidthInches?`${e.mirrorsFoldedWidthInches}"`:"-",l&&!a&&e.mirrorsFoldedWidthInches&&l.mirrorsFoldedWidthInches&&(0,s.jsx)(M,{diff:T(l,e,"mirrorsFoldedWidthInches",i),positive:"lower"})]}),x.includes("bodyWidthInches")&&(0,s.jsxs)("td",{className:"px-3 py-2 text-sm text-white",title:"Width with mirrors extended",children:[r.toFixed(1),'"',l&&!a&&(0,s.jsx)(M,{diff:T(l,e,"bodyWidthInches",i),positive:"lower"})]}),x.includes("heightInches")&&(0,s.jsxs)("td",{className:"px-3 py-2 text-sm text-white",title:"Overall height",children:[e.heightInches?`${e.heightInches}"`:"-",l&&!a&&e.heightInches&&l.heightInches&&(0,s.jsx)(M,{diff:T(l,e,"heightInches",i),positive:"lower"})]}),x.includes("groundClearanceInches")&&(0,s.jsxs)("td",{className:"px-3 py-2 text-sm text-white",title:"Ground clearance",children:[e.groundClearanceInches?`${e.groundClearanceInches}"`:"-",l&&!a&&e.groundClearanceInches&&l.groundClearanceInches&&(0,s.jsx)(M,{diff:T(l,e,"groundClearanceInches",i),positive:"higher"})]}),x.includes("fuelType")&&(0,s.jsx)("td",{className:"px-3 py-2 text-sm",children:(0,s.jsx)(W,{fuelType:e.fuelType})}),x.includes("plugType")&&(0,s.jsx)("td",{className:"px-3 py-2 text-sm text-gray-300",children:"none"===e.plugType?"-":e.plugType}),x.includes("mpgCombined")&&(0,s.jsxs)("td",{className:"px-3 py-2 text-sm text-white",children:[S(e),l&&!a&&e.mpgCombined&&l.mpgCombined&&(0,s.jsx)(M,{diff:T(l,e,"mpgCombined",i),positive:"higher"})]}),x.includes("electricRangeMiles")&&(0,s.jsx)("td",{className:"px-3 py-2 text-sm text-white",children:e.electricRangeMiles?`${e.electricRangeMiles} mi`:"-"}),x.includes("msrp")&&(0,s.jsxs)("td",{className:"px-3 py-2 text-sm text-white",children:[k(e.msrp),l&&!a&&(0,s.jsx)(M,{diff:T(l,e,"msrp",i),positive:"lower"})]}),x.includes("leaseRating")&&(0,s.jsx)("td",{className:"px-3 py-2 text-sm",children:(0,s.jsx)(G,{rating:e.leaseRating})}),x.includes("depreciationCategory")&&(0,s.jsx)("td",{className:"px-3 py-2 text-sm",children:(0,s.jsx)(B,{category:e.depreciationCategory})}),x.includes("fiveYearResalePercent")&&(0,s.jsx)("td",{className:"px-3 py-2 text-sm text-white",children:e.fiveYearResalePercent?`${e.fiveYearResalePercent}%`:"-"}),x.includes("reliabilityRating")&&(0,s.jsx)("td",{className:"px-3 py-2 text-sm",children:(0,s.jsx)(O,{rating:e.reliabilityRating})}),x.includes("insuranceCostAnnual")&&(0,s.jsx)("td",{className:"px-3 py-2 text-sm text-white",children:e.insuranceCostAnnual?k(e.insuranceCostAnnual):"-"}),x.includes("maintenanceCostAnnual")&&(0,s.jsx)("td",{className:"px-3 py-2 text-sm text-white",children:e.maintenanceCostAnnual?k(e.maintenanceCostAnnual):"-"}),x.includes("zeroToSixtySeconds")&&(0,s.jsx)("td",{className:"px-3 py-2 text-sm text-white",children:e.zeroToSixtySeconds?`${e.zeroToSixtySeconds}s`:"-"}),x.includes("horsepower")&&(0,s.jsx)("td",{className:"px-3 py-2 text-sm text-white",children:e.horsepower?`${e.horsepower}`:"-"}),x.includes("notes")&&(0,s.jsx)("td",{className:"px-3 py-2 text-sm text-gray-400 max-w-xs truncate",title:e.notes,children:e.notes??"-"})]},e.id)})})]}),(x.includes("mirrorsFoldedWidthInches")||x.includes("bodyWidthInches"))&&(0,s.jsx)("div",{className:"px-3 py-2 text-xs text-gray-500 border-t border-gray-700",children:"Folded = mirrors folded in, Extended = mirrors extended out"})]})]})}function W({fuelType:e}){return(0,s.jsx)("span",{className:`px-2 py-0.5 rounded text-xs ${{gasoline:"bg-gray-600 text-gray-200",diesel:"bg-yellow-800 text-yellow-200",hybrid:"bg-green-800 text-green-200","plug-in-hybrid":"bg-teal-800 text-teal-200",electric:"bg-blue-800 text-blue-200"}[e]??"bg-gray-600"}`,children:{gasoline:"Gas",diesel:"Diesel",hybrid:"Hybrid","plug-in-hybrid":"PHEV",electric:"EV"}[e]??e})}function V({bodyType:e}){return(0,s.jsx)("span",{className:`px-2 py-0.5 rounded text-xs ${{sedan:"bg-purple-800 text-purple-200",crossover:"bg-orange-800 text-orange-200",suv:"bg-amber-800 text-amber-200",truck:"bg-red-800 text-red-200",minivan:"bg-pink-800 text-pink-200",hatchback:"bg-cyan-800 text-cyan-200",wagon:"bg-lime-800 text-lime-200",coupe:"bg-indigo-800 text-indigo-200"}[e]??"bg-gray-600"}`,children:{sedan:"Sedan",crossover:"Crossover",suv:"SUV",truck:"Truck",minivan:"Minivan",hatchback:"Hatch",wagon:"Wagon",coupe:"Coupe"}[e]??e})}function H({rating:e}){return e&&"Not Rated"!==e?(0,s.jsx)("span",{className:`px-2 py-0.5 rounded text-xs ${{"TSP+":"bg-green-700 text-green-100",TSP:"bg-green-800 text-green-200",Good:"bg-blue-800 text-blue-200",Acceptable:"bg-yellow-800 text-yellow-200",Pending:"bg-gray-600 text-gray-300"}[e]??"bg-gray-600"}`,title:{"TSP+":"IIHS Top Safety Pick+",TSP:"IIHS Top Safety Pick",Good:"IIHS Good Rating",Acceptable:"IIHS Acceptable Rating",Pending:"Awaiting IIHS testing"}[e],children:e}):(0,s.jsx)("span",{className:"text-gray-500 text-xs",children:"-"})}function E({score:e}){return null==e?(0,s.jsx)("span",{className:"text-gray-500 text-xs",children:"-"}):(0,s.jsx)("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${e>=90?"bg-green-600 text-white":e>=80?"bg-green-700 text-green-100":e>=70?"bg-lime-700 text-lime-100":e>=60?"bg-yellow-600 text-yellow-100":e>=50?"bg-orange-600 text-orange-100":e>=40?"bg-orange-700 text-orange-100":"bg-red-700 text-red-100"}`,title:`${e>=90?"Excellent":e>=80?"Very Good":e>=70?"Good":e>=60?"Above Average":e>=50?"Average":e>=40?"Below Average":"Poor"} - Aggregated expert review score from MotorMashup`,children:e})}function D({level:e,name:t}){return e&&"none"!==e?(0,s.jsx)("span",{className:`px-2 py-0.5 rounded text-xs ${{none:"bg-gray-700 text-gray-400",basic:"bg-gray-600 text-gray-200",enhanced:"bg-blue-800 text-blue-200","hands-free":"bg-purple-700 text-purple-200","full-self-driving":"bg-cyan-700 text-cyan-200"}[e]}`,title:t??e,children:{none:"None",basic:"Basic",enhanced:"Enhanced","hands-free":"Hands-Free","full-self-driving":"FSD"}[e]}):(0,s.jsx)("span",{className:"text-gray-500 text-xs",children:"-"})}function G({rating:e}){return e?(0,s.jsx)("span",{className:`px-2 py-0.5 rounded text-xs capitalize ${{excellent:"bg-green-600 text-white",good:"bg-green-800 text-green-200",fair:"bg-yellow-700 text-yellow-100",poor:"bg-red-800 text-red-200"}[e]}`,title:{excellent:"Excellent lease deals typically available",good:"Good lease deals often available",fair:"Fair lease deals - shop around",poor:"Poor lease deals - consider buying"}[e],children:e}):(0,s.jsx)("span",{className:"text-gray-500 text-xs",children:"-"})}function B({category:e}){return e?(0,s.jsx)("span",{className:`px-2 py-0.5 rounded text-xs ${{low:"bg-green-600 text-white",medium:"bg-yellow-700 text-yellow-100",high:"bg-orange-700 text-orange-100","very-high":"bg-red-700 text-red-100"}[e]}`,title:{low:"Low depreciation - holds value well",medium:"Average depreciation",high:"High depreciation - loses value faster","very-high":"Very high depreciation - loses value quickly"}[e],children:{low:"Low",medium:"Med",high:"High","very-high":"V.High"}[e]}):(0,s.jsx)("span",{className:"text-gray-500 text-xs",children:"-"})}function O({rating:e}){return e?(0,s.jsx)("span",{className:`px-2 py-0.5 rounded text-xs ${{excellent:"bg-green-600 text-white",good:"bg-green-800 text-green-200",average:"bg-yellow-700 text-yellow-100","below-average":"bg-orange-700 text-orange-100",poor:"bg-red-700 text-red-100"}[e]}`,title:{excellent:"Excellent reliability (JD Power top tier)",good:"Good reliability",average:"Average reliability","below-average":"Below average reliability",poor:"Poor reliability - expect more issues"}[e],children:{excellent:"Excellent",good:"Good",average:"Avg","below-average":"Below",poor:"Poor"}[e]}):(0,s.jsx)("span",{className:"text-gray-500 text-xs",children:"-"})}function Y({label:e,enabled:t}){return(0,s.jsxs)("div",{className:`flex items-center gap-1 ${t?"text-green-400":"text-gray-500"}`,children:[(0,s.jsx)("span",{children:t?"✓":"✗"}),(0,s.jsx)("span",{children:e})]})}let z=[{id:"01",label:"Front 3/4"},{id:"09",label:"Rear 3/4"},{id:"13",label:"Side"},{id:"29",label:"Front"}];function U(e,s=400,t="01"){let a=e.model.split(" ")[0].toLowerCase().replace(/[^a-z0-9]/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,""),r=e.make.toLowerCase();return`https://cdn.imagin.studio/getImage?customer=img&make=${r}&modelFamily=${a}&paintId=pspc0001&angle=${t}&width=${s}`}function J({car:e,onClose:a,baselineCar:r,mirrorBuffer:l}){let[i,n]=(0,t.useState)("01"),[o,d]=(0,t.useState)(!1),c=U(e,800,i),m=r?.id===e.id,x=I(e,l),g=({label:e,value:t,diff:a,positive:r})=>(0,s.jsxs)("div",{className:"flex justify-between py-1 border-b border-gray-700",children:[(0,s.jsx)("span",{className:"text-gray-400",children:e}),(0,s.jsxs)("span",{className:"text-white",children:[t??"-",a&&!m&&(0,s.jsx)(M,{diff:a,positive:r})]})]});return(0,s.jsxs)(s.Fragment,{children:[o&&(0,s.jsx)($,{car:e,mirrorBuffer:l,onClose:()=>d(!1)}),(0,s.jsx)("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-start justify-center p-4 overflow-y-auto",onClick:a,children:(0,s.jsxs)("div",{className:"bg-gray-800 rounded-lg max-w-4xl w-full p-6 mt-4 mb-8",onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("h3",{className:"text-2xl font-bold text-white",children:[e.year," ",e.make," ",e.model]}),e.trim&&(0,s.jsx)("p",{className:"text-gray-400",children:e.trim}),(0,s.jsxs)("div",{className:"flex gap-2 mt-2",children:[(0,s.jsx)(V,{bodyType:e.bodyType}),(0,s.jsx)(W,{fuelType:e.fuelType}),(0,s.jsx)(H,{rating:e.safetyRating})]})]}),(0,s.jsx)("button",{onClick:a,className:"text-gray-400 hover:text-white text-3xl leading-none p-2",children:"×"})]}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("img",{src:c,alt:`${e.year} ${e.make} ${e.model} - ${z.find(e=>e.id===i)?.label}`,className:"w-full h-auto rounded-lg mb-3"}),(0,s.jsx)("div",{className:"flex gap-2 justify-center",children:z.map(t=>(0,s.jsxs)("button",{onClick:()=>n(t.id),className:`relative rounded overflow-hidden border-2 transition-all ${i===t.id?"border-blue-500 scale-105":"border-gray-600 hover:border-gray-400"}`,children:[(0,s.jsx)("img",{src:U(e,150,t.id),alt:t.label,className:"w-20 h-12 object-cover"}),(0,s.jsx)("span",{className:"absolute bottom-0 left-0 right-0 bg-black/70 text-white text-xs py-0.5 text-center",children:t.label})]},t.id))})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,s.jsxs)("div",{className:"bg-gray-900 rounded-lg p-4",children:[(0,s.jsx)("h4",{className:"text-lg font-semibold text-white mb-3 border-b border-gray-700 pb-2",children:"Pricing"}),(0,s.jsx)(g,{label:"MSRP",value:k(e.msrp),diff:r?T(r,e,"msrp",l):null,positive:"lower"})]}),(0,s.jsxs)("div",{className:"bg-gray-900 rounded-lg p-4",children:[(0,s.jsx)("h4",{className:"text-lg font-semibold text-white mb-3 border-b border-gray-700 pb-2",children:"Dimensions"}),(0,s.jsx)(g,{label:"Width (Mirrors Folded)",value:e.mirrorsFoldedWidthInches?`${e.mirrorsFoldedWidthInches}"`:void 0,diff:r&&r.mirrorsFoldedWidthInches&&e.mirrorsFoldedWidthInches?T(r,e,"mirrorsFoldedWidthInches",l):null,positive:"lower"}),(0,s.jsx)(g,{label:"Width (Mirrors Extended)",value:`${x.toFixed(1)}"`,diff:r?T(r,e,"bodyWidthInches",l):null,positive:"lower"}),(0,s.jsx)(g,{label:"Body Width",value:e.bodyWidthInches?`${e.bodyWidthInches}"`:void 0}),(0,s.jsx)(g,{label:"Length",value:e.lengthInches?`${e.lengthInches}"`:void 0}),(0,s.jsx)(g,{label:"Height",value:e.heightInches?`${e.heightInches}"`:void 0,diff:r&&e.heightInches&&r.heightInches?T(r,e,"heightInches",l):null,positive:"lower"}),(0,s.jsx)(g,{label:"Ground Clearance",value:e.groundClearanceInches?`${e.groundClearanceInches}"`:void 0,diff:r&&e.groundClearanceInches&&r.groundClearanceInches?T(r,e,"groundClearanceInches",l):null,positive:"higher"}),(0,s.jsx)("button",{onClick:()=>d(!0),className:"mt-3 w-full py-2 bg-indigo-600 hover:bg-indigo-500 text-white rounded text-sm font-medium transition-colors",children:"Check Garage Fit"})]}),(0,s.jsxs)("div",{className:"bg-gray-900 rounded-lg p-4",children:[(0,s.jsx)("h4",{className:"text-lg font-semibold text-white mb-3 border-b border-gray-700 pb-2",children:"Capacity"}),(0,s.jsx)(g,{label:"Seats",value:e.seats,diff:r?T(r,e,"seats",l):null,positive:"higher"}),(0,s.jsx)(g,{label:"Doors",value:e.doors}),(0,s.jsx)(g,{label:"Driver Legroom",value:e.driverLegroomInches?`${e.driverLegroomInches}"`:void 0,diff:r?T(r,e,"driverLegroomInches",l):null,positive:"higher"}),(0,s.jsx)(g,{label:"Cargo Volume",value:e.cargoVolumesCuFt?`${e.cargoVolumesCuFt} cu ft`:void 0})]}),(0,s.jsxs)("div",{className:"bg-gray-900 rounded-lg p-4",children:[(0,s.jsx)("h4",{className:"text-lg font-semibold text-white mb-3 border-b border-gray-700 pb-2",children:"Efficiency"}),"electric"!==e.fuelType&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(g,{label:"City MPG",value:e.mpgCity}),(0,s.jsx)(g,{label:"Highway MPG",value:e.mpgHighway}),(0,s.jsx)(g,{label:"Combined MPG",value:e.mpgCombined,diff:r?T(r,e,"mpgCombined",l):null,positive:"higher"})]}),e.mpge&&(0,s.jsx)(g,{label:"MPGe",value:e.mpge}),e.electricRangeMiles&&(0,s.jsx)(g,{label:"Electric Range",value:`${e.electricRangeMiles} mi`,diff:r?T(r,e,"electricRangeMiles",l):null,positive:"higher"})]}),(0,s.jsxs)("div",{className:"bg-gray-900 rounded-lg p-4",children:[(0,s.jsx)("h4",{className:"text-lg font-semibold text-white mb-3 border-b border-gray-700 pb-2",children:"Powertrain"}),(0,s.jsx)(g,{label:"Fuel Type",value:e.fuelType}),(0,s.jsx)(g,{label:"Plug Type",value:"none"===e.plugType?"N/A":e.plugType})]}),e.towingCapacityLbs&&(0,s.jsxs)("div",{className:"bg-gray-900 rounded-lg p-4",children:[(0,s.jsx)("h4",{className:"text-lg font-semibold text-white mb-3 border-b border-gray-700 pb-2",children:"Capability"}),(0,s.jsx)(g,{label:"Towing Capacity",value:`${e.towingCapacityLbs.toLocaleString()} lbs`})]}),(0,s.jsxs)("div",{className:"bg-gray-900 rounded-lg p-4",children:[(0,s.jsx)("h4",{className:"text-lg font-semibold text-white mb-3 border-b border-gray-700 pb-2",children:"Safety"}),(0,s.jsx)(g,{label:"IIHS Rating",value:e.safetyRating??"Not Rated"}),"TSP+"===e.safetyRating&&(0,s.jsx)("p",{className:"text-xs text-green-400 mt-2",children:"Top Safety Pick+ - Highest IIHS award"}),"TSP"===e.safetyRating&&(0,s.jsx)("p",{className:"text-xs text-green-400 mt-2",children:"Top Safety Pick - Excellent safety rating"})]})]}),e.autonomousLevel&&"none"!==e.autonomousLevel&&(0,s.jsxs)("div",{className:"mt-6 bg-gray-900 rounded-lg p-4",children:[(0,s.jsx)("h4",{className:"text-lg font-semibold text-white mb-3 border-b border-gray-700 pb-2",children:"Driver Assistance"}),(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,s.jsx)(D,{level:e.autonomousLevel,name:e.adasName}),e.adasName&&(0,s.jsx)("span",{className:"text-gray-300 text-sm",children:e.adasName})]}),e.adasFeatures&&(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[(0,s.jsx)(Y,{label:"Adaptive Cruise Control",enabled:e.adasFeatures.adaptiveCruiseControl}),(0,s.jsx)(Y,{label:"Lane Keep Assist",enabled:e.adasFeatures.laneKeepAssist}),(0,s.jsx)(Y,{label:"Lane Centering",enabled:e.adasFeatures.laneCenteringAssist}),(0,s.jsx)(Y,{label:"Blind Spot Monitoring",enabled:e.adasFeatures.blindSpotMonitoring}),(0,s.jsx)(Y,{label:"Auto Emergency Braking",enabled:e.adasFeatures.automaticEmergencyBraking}),(0,s.jsx)(Y,{label:"Traffic Sign Recognition",enabled:e.adasFeatures.trafficSignRecognition}),(0,s.jsx)(Y,{label:"Driver Monitoring",enabled:e.adasFeatures.driverMonitoring}),(0,s.jsx)(Y,{label:"Auto Lane Change",enabled:e.adasFeatures.autoLaneChange}),(0,s.jsx)(Y,{label:"Summon/Remote Parking",enabled:e.adasFeatures.summonParking}),(0,s.jsx)(Y,{label:"Hands-Free Highway",enabled:e.adasFeatures.handsFreeHighway}),(0,s.jsx)(Y,{label:"City Autonomy",enabled:e.adasFeatures.cityAutopilot})]})]}),(e.standardFeatures?.length||e.notes)&&(0,s.jsxs)("div",{className:"mt-6 bg-gray-900 rounded-lg p-4",children:[(0,s.jsx)("h4",{className:"text-lg font-semibold text-white mb-3 border-b border-gray-700 pb-2",children:"Features & Notes"}),e.standardFeatures&&e.standardFeatures.length>0&&(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsx)("span",{className:"text-gray-400 text-sm",children:"Standard Features:"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2 mt-1",children:e.standardFeatures.map((e,t)=>(0,s.jsx)("span",{className:"px-2 py-1 bg-gray-700 rounded text-xs text-gray-200",children:e},t))})]}),e.notes&&(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-400 text-sm",children:"Notes:"}),(0,s.jsx)("p",{className:"text-white mt-1",children:e.notes})]})]}),(0,s.jsxs)("div",{className:"mt-6 bg-gray-900 rounded-lg p-4",children:[(0,s.jsx)("h4",{className:"text-lg font-semibold text-white mb-3 border-b border-gray-700 pb-2",children:"Search This Vehicle"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[(0,s.jsx)(q,{name:"Cars.com",url:`https://www.cars.com/shopping/results/?keyword=${encodeURIComponent(`${e.year} ${e.make} ${e.model}`)}`,color:"bg-blue-700"}),(0,s.jsx)(q,{name:"AutoTrader",url:`https://www.autotrader.com/cars-for-sale/all-cars/${e.make.toLowerCase()}/${e.model.toLowerCase().replace(/\s+/g,"-")}?startYear=${e.year}&endYear=${e.year}`,color:"bg-red-700"}),(0,s.jsx)(q,{name:"CarGurus",url:`https://www.cargurus.com/Cars/inventorylisting/viewDetailsFilterViewInventoryListing.action?zip=10001&sourceContext=carGurusHomePageModel&newSearchFromOverviewPage=true&inventorySearchWidgetType=AUTO&entitySelectingHelper.selectedEntity=${encodeURIComponent(`${e.year} ${e.make} ${e.model}`)}`,color:"bg-green-700"}),(0,s.jsx)(q,{name:"Edmunds",url:`https://www.edmunds.com/${e.make.toLowerCase()}/${e.model.toLowerCase().replace(/\s+/g,"-")}/${e.year}/`,color:"bg-purple-700"}),(0,s.jsx)(q,{name:"KBB",url:`https://www.kbb.com/${e.make.toLowerCase()}/${e.model.toLowerCase().replace(/\s+/g,"-")}/${e.year}/`,color:"bg-cyan-700"}),(0,s.jsx)(q,{name:"TrueCar",url:`https://www.truecar.com/used-cars-for-sale/listings/${e.make.toLowerCase()}/${e.model.toLowerCase().replace(/\s+/g,"-")}/year-${e.year}/`,color:"bg-orange-700"}),(0,s.jsx)(q,{name:"CarMax",url:`https://www.carmax.com/cars/${e.make.toLowerCase()}/${e.model.toLowerCase().replace(/\s+/g,"-")}?year=${e.year}`,color:"bg-yellow-700"}),(0,s.jsx)(q,{name:"Google",url:`https://www.google.com/search?q=${encodeURIComponent(`${e.year} ${e.make} ${e.model} for sale`)}`,color:"bg-gray-600"}),(0,s.jsx)(q,{name:"Images",url:`https://www.google.com/search?tbm=isch&q=${encodeURIComponent(`${e.year} ${e.make} ${e.model}`)}`,color:"bg-pink-700"})]})]}),m&&(0,s.jsx)("div",{className:"mt-4 p-3 bg-blue-900/30 rounded-lg border border-blue-700",children:(0,s.jsx)("p",{className:"text-blue-300 text-sm",children:"This is your baseline vehicle for comparisons."})}),(0,s.jsxs)("div",{className:"mt-6 pt-4 border-t border-gray-700 flex justify-between text-xs text-gray-500",children:[(0,s.jsxs)("span",{children:["Last updated: ",e.lastUpdated]}),(0,s.jsxs)("span",{children:["Source: ",e.dataSource??"manual"]})]})]})})]})}function _({car:e,onImageClick:a}){let[r,l]=(0,t.useState)(!1),[i,n]=(0,t.useState)(!0),o=U(e);return r?(0,s.jsx)("div",{className:"w-28 h-16 bg-gray-700 rounded flex items-center justify-center text-gray-500 text-sm",children:e.bodyType.charAt(0).toUpperCase()}):(0,s.jsxs)("div",{className:"w-28 h-16 relative cursor-pointer hover:opacity-80 transition-opacity",onClick:a,children:[i&&(0,s.jsx)("div",{className:"absolute inset-0 skeleton rounded flex items-center justify-center",children:(0,s.jsxs)("svg",{className:"w-6 h-6 text-gray-500 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),(0,s.jsx)("img",{src:o,alt:`${e.year} ${e.make} ${e.model}`,className:`w-28 h-16 object-cover rounded ${i?"opacity-0":"opacity-100"}`,onLoad:()=>n(!1),onError:()=>{l(!0),n(!1)}})]})}function q({name:e,url:t,color:a}){return(0,s.jsx)("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:`${a} hover:opacity-80 text-white text-center py-2 px-3 rounded text-sm font-medium transition-opacity`,children:e})}function K({cars:e,baselineCar:t,onBaselineChange:a,mirrorBuffer:r}){return(0,s.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4 space-y-3",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-white border-b border-gray-600 pb-2",children:"Baseline Vehicle"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-300",children:"Compare all cars against:"}),(0,s.jsxs)("select",{value:t?.id??"",onChange:s=>{a(e.find(e=>e.id===s.target.value)??null)},className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white text-sm",children:[(0,s.jsx)("option",{value:"",children:"No baseline selected"}),e.map(e=>(0,s.jsx)("option",{value:e.id,children:F(e)},e.id))]})]}),t&&(0,s.jsxs)("div",{className:"bg-gray-900 rounded p-3 space-y-2",children:[(0,s.jsx)("h3",{className:"font-medium text-white",children:F(t)}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-400",children:"Width (Folded):"}),(0,s.jsx)("span",{className:"text-white ml-1",children:t.mirrorsFoldedWidthInches?`${t.mirrorsFoldedWidthInches}"`:"-"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-400",children:"Width (Extended):"}),(0,s.jsxs)("span",{className:"text-white ml-1",children:[I(t,r).toFixed(1),'"']})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-400",children:"Seats:"}),(0,s.jsx)("span",{className:"text-white ml-1",children:t.seats})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-400",children:"Doors:"}),(0,s.jsx)("span",{className:"text-white ml-1",children:t.doors})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-400",children:"Fuel:"}),(0,s.jsx)("span",{className:"text-white ml-1 capitalize",children:t.fuelType.replace("-"," ")})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-400",children:"Efficiency:"}),(0,s.jsx)("span",{className:"text-white ml-1",children:S(t)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-400",children:"MSRP:"}),(0,s.jsx)("span",{className:"text-white ml-1",children:k(t.msrp)})]})]}),t.notes&&(0,s.jsx)("p",{className:"text-xs text-gray-400 italic",children:t.notes}),(0,s.jsx)("button",{onClick:()=>a(null),className:"text-xs text-blue-400 hover:text-blue-300",children:"Clear baseline"})]}),(0,s.jsxs)("p",{className:"text-xs text-gray-500",children:["Differences shown in table: ",(0,s.jsx)("span",{className:"text-green-400",children:"green = better"}),","," ",(0,s.jsx)("span",{className:"text-red-400",children:"red = worse"})]})]})}function Q({cars:e,onClose:a,onRemoveCar:r,mirrorBuffer:l}){let i=(0,t.useRef)(null);if((0,t.useEffect)(()=>{let e=window.scrollY;return document.body.style.position="fixed",document.body.style.top=`-${e}px`,document.body.style.width="100%",i.current&&(i.current.scrollTop=0),()=>{document.body.style.position="",document.body.style.top="",document.body.style.width="",window.scrollTo(0,e)}},[]),0===e.length)return null;let n=({label:e,values:t,format:a,highlight:r})=>{let l=t.map(e=>a?a(e):e??"-"),i=-1;if(r&&t.some(e=>void 0!==e)){let e=t.map(e=>"number"==typeof e?e:parseFloat(String(e))||0);if("higher"===r)i=e.indexOf(Math.max(...e));else{let s=e.filter(e=>e>0);if(s.length>0){let t=Math.min(...s);i=e.indexOf(t)}}}return(0,s.jsxs)("tr",{className:"border-b border-gray-700",children:[(0,s.jsx)("td",{className:"px-4 py-2 text-gray-400 font-medium",children:e}),l.map((e,t)=>(0,s.jsx)("td",{className:`px-4 py-2 text-center ${i===t?"text-green-400 font-semibold":"text-white"}`,children:e},t))]})},o=({rating:e})=>e&&"Not Rated"!==e?(0,s.jsx)("span",{className:`px-2 py-0.5 rounded text-xs ${{"TSP+":"bg-green-700 text-green-100",TSP:"bg-green-800 text-green-200",Good:"bg-blue-800 text-blue-200",Acceptable:"bg-yellow-800 text-yellow-200"}[e]??"bg-gray-600"}`,children:e}):(0,s.jsx)("span",{className:"text-gray-500",children:"-"});return(0,s.jsx)("div",{ref:i,className:"fixed z-50 bg-black/80",style:{top:0,left:0,right:0,bottom:0,overflowY:"auto"},onClick:a,children:(0,s.jsxs)("div",{className:"bg-gray-800 rounded-lg max-w-6xl p-6",style:{margin:"20px auto",width:"calc(100% - 32px)"},onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Compare Vehicles"}),(0,s.jsx)("button",{onClick:a,className:"text-gray-400 hover:text-white text-3xl leading-none p-2",children:"×"})]}),(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"border-b border-gray-600",children:[(0,s.jsx)("th",{className:"px-4 py-2 text-left text-gray-400 w-40"}),e.map(e=>(0,s.jsx)("th",{className:"px-4 py-4 text-center min-w-[200px]",children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("button",{onClick:()=>r(e.id),className:"absolute -top-2 -right-2 bg-red-600 hover:bg-red-500 text-white rounded-full w-6 h-6 text-sm",title:"Remove from comparison",children:"×"}),(0,s.jsx)("img",{src:((e,s=400)=>{let t=e.model.split(" ")[0].toLowerCase().replace(/[^a-z0-9]/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,""),a=e.make.toLowerCase();return`https://cdn.imagin.studio/getImage?customer=img&make=${a}&modelFamily=${t}&paintId=pspc0001&angle=01&width=${s}`})(e,300),alt:`${e.year} ${e.make} ${e.model}`,className:"w-full h-32 object-contain rounded-lg mb-2"}),(0,s.jsxs)("div",{className:"text-white font-semibold",children:[e.year," ",e.make]}),(0,s.jsx)("div",{className:"text-gray-300",children:e.model}),e.trim&&(0,s.jsx)("div",{className:"text-gray-500 text-sm",children:e.trim})]})},e.id))]})}),(0,s.jsxs)("tbody",{children:[(0,s.jsx)("tr",{className:"bg-gray-900",children:(0,s.jsx)("td",{colSpan:e.length+1,className:"px-4 py-2 text-blue-400 font-semibold text-sm uppercase",children:"Pricing"})}),(0,s.jsx)(n,{label:"MSRP",values:e.map(e=>e.msrp),format:e=>e?k(e):"-",highlight:"lower"}),(0,s.jsx)("tr",{className:"bg-gray-900",children:(0,s.jsx)("td",{colSpan:e.length+1,className:"px-4 py-2 text-blue-400 font-semibold text-sm uppercase",children:"Safety"})}),(0,s.jsxs)("tr",{className:"border-b border-gray-700",children:[(0,s.jsx)("td",{className:"px-4 py-2 text-gray-400 font-medium",children:"IIHS Rating"}),e.map(e=>(0,s.jsx)("td",{className:"px-4 py-2 text-center",children:(0,s.jsx)(o,{rating:e.safetyRating})},e.id))]}),(0,s.jsx)("tr",{className:"bg-gray-900",children:(0,s.jsx)("td",{colSpan:e.length+1,className:"px-4 py-2 text-blue-400 font-semibold text-sm uppercase",children:"Dimensions"})}),(0,s.jsx)(n,{label:"Width (Mirrors Folded)",values:e.map(e=>e.mirrorsFoldedWidthInches),format:e=>e?`${e.toFixed(1)}"`:"-",highlight:"lower"}),(0,s.jsx)(n,{label:"Width (Mirrors Extended)",values:e.map(e=>I(e,l)),format:e=>e?`${e.toFixed(1)}"`:"-",highlight:"lower"}),(0,s.jsx)(n,{label:"Length",values:e.map(e=>e.lengthInches),format:e=>e?`${e}"`:"-"}),(0,s.jsx)(n,{label:"Height",values:e.map(e=>e.heightInches),format:e=>e?`${e}"`:"-"}),(0,s.jsx)("tr",{className:"bg-gray-900",children:(0,s.jsx)("td",{colSpan:e.length+1,className:"px-4 py-2 text-blue-400 font-semibold text-sm uppercase",children:"Capacity"})}),(0,s.jsx)(n,{label:"Seats",values:e.map(e=>e.seats),highlight:"higher"}),(0,s.jsx)(n,{label:"Driver Legroom",values:e.map(e=>e.driverLegroomInches),format:e=>e?`${e}"`:"-",highlight:"higher"}),(0,s.jsx)(n,{label:"Cargo Volume",values:e.map(e=>e.cargoVolumesCuFt),format:e=>e?`${e} cu ft`:"-",highlight:"higher"}),(0,s.jsx)("tr",{className:"bg-gray-900",children:(0,s.jsx)("td",{colSpan:e.length+1,className:"px-4 py-2 text-blue-400 font-semibold text-sm uppercase",children:"Efficiency"})}),(0,s.jsx)(n,{label:"Combined MPG",values:e.map(e=>e.mpgCombined),highlight:"higher"}),(0,s.jsx)(n,{label:"MPGe",values:e.map(e=>e.mpge),highlight:"higher"}),(0,s.jsx)(n,{label:"EV Range",values:e.map(e=>e.electricRangeMiles),format:e=>e?`${e} mi`:"-",highlight:"higher"}),(0,s.jsx)("tr",{className:"bg-gray-900",children:(0,s.jsx)("td",{colSpan:e.length+1,className:"px-4 py-2 text-blue-400 font-semibold text-sm uppercase",children:"Powertrain"})}),(0,s.jsx)(n,{label:"Fuel Type",values:e.map(e=>e.fuelType)}),(0,s.jsx)(n,{label:"Plug Type",values:e.map(e=>"none"===e.plugType?"N/A":e.plugType)})]})]})}),(0,s.jsx)("div",{className:"mt-6 text-center text-gray-500 text-sm",children:"Green highlighting indicates the best value in each category"})]})})}let Z=[{id:"favorite",label:"Favorite",defaultVisible:!0,category:"action"},{id:"compare",label:"Compare",defaultVisible:!0,category:"action"},{id:"baseline",label:"Baseline",defaultVisible:!0,category:"action"},{id:"image",label:"Image",defaultVisible:!0,category:"action"},{id:"year",label:"Year",sortField:"year",defaultVisible:!0,category:"identity"},{id:"make",label:"Make",sortField:"make",defaultVisible:!0,category:"identity"},{id:"model",label:"Model",sortField:"model",defaultVisible:!0,category:"identity"},{id:"bodyType",label:"Body Type",shortLabel:"Type",sortField:"bodyType",defaultVisible:!0,category:"identity"},{id:"safetyRating",label:"Safety Rating",shortLabel:"Safety",sortField:"safetyRating",defaultVisible:!0,category:"safety"},{id:"reviewScore",label:"Review Score",shortLabel:"Score",sortField:"reviewScore",defaultVisible:!0,category:"safety"},{id:"autonomousLevel",label:"ADAS Level",shortLabel:"ADAS",sortField:"autonomousLevel",defaultVisible:!0,category:"safety"},{id:"seats",label:"Seats",sortField:"seats",defaultVisible:!0,category:"dimensions"},{id:"driverLegroomInches",label:"Legroom",sortField:"driverLegroomInches",defaultVisible:!0,category:"dimensions"},{id:"mirrorsFoldedWidthInches",label:"Width (Folded)",shortLabel:"Folded",sortField:"mirrorsFoldedWidthInches",defaultVisible:!0,category:"dimensions"},{id:"bodyWidthInches",label:"Width (Extended)",shortLabel:"Extended",sortField:"bodyWidthInches",defaultVisible:!0,category:"dimensions"},{id:"heightInches",label:"Height",sortField:"heightInches",defaultVisible:!0,category:"dimensions"},{id:"groundClearanceInches",label:"Ground Clearance",shortLabel:"Clearance",sortField:"groundClearanceInches",defaultVisible:!0,category:"dimensions"},{id:"fuelType",label:"Fuel Type",shortLabel:"Fuel",defaultVisible:!0,category:"powertrain"},{id:"plugType",label:"Plug Type",shortLabel:"Plug",defaultVisible:!0,category:"powertrain"},{id:"mpgCombined",label:"Efficiency",sortField:"mpgCombined",defaultVisible:!0,category:"powertrain"},{id:"electricRangeMiles",label:"EV Range",sortField:"electricRangeMiles",defaultVisible:!0,category:"powertrain"},{id:"msrp",label:"MSRP",sortField:"msrp",defaultVisible:!0,category:"pricing"},{id:"leaseRating",label:"Lease Rating",shortLabel:"Lease",sortField:"leaseRating",defaultVisible:!1,category:"pricing"},{id:"depreciationCategory",label:"Depreciation",shortLabel:"Deprec.",sortField:"depreciationCategory",defaultVisible:!1,category:"pricing"},{id:"fiveYearResalePercent",label:"5-Year Resale %",shortLabel:"Resale",sortField:"fiveYearResalePercent",defaultVisible:!1,category:"pricing"},{id:"reliabilityRating",label:"Reliability",sortField:"reliabilityRating",defaultVisible:!1,category:"pricing"},{id:"insuranceCostAnnual",label:"Insurance/yr",shortLabel:"Insure",sortField:"insuranceCostAnnual",defaultVisible:!1,category:"pricing"},{id:"maintenanceCostAnnual",label:"Maintenance/yr",shortLabel:"Maint",sortField:"maintenanceCostAnnual",defaultVisible:!1,category:"pricing"},{id:"zeroToSixtySeconds",label:"0-60 mph",shortLabel:"0-60",sortField:"zeroToSixtySeconds",defaultVisible:!1,category:"powertrain"},{id:"horsepower",label:"Horsepower",shortLabel:"HP",sortField:"horsepower",defaultVisible:!1,category:"powertrain"},{id:"notes",label:"Notes",defaultVisible:!0,category:"pricing"}],X=Z.filter(e=>e.defaultVisible&&"action"!==e.category).map(e=>e.id),ee=[{name:"All Columns",columns:Z.filter(e=>"action"!==e.category).map(e=>e.id)},{name:"Minimal",columns:["year","make","model","bodyType","msrp"]},{name:"Garage Fit",columns:["year","make","model","mirrorsFoldedWidthInches","bodyWidthInches","heightInches","groundClearanceInches"]},{name:"Safety Focus",columns:["year","make","model","safetyRating","reviewScore","autonomousLevel"]},{name:"EV Focus",columns:["year","make","model","fuelType","plugType","mpgCombined","electricRangeMiles","msrp"]},{name:"Value Focus",columns:["year","make","model","msrp","leaseRating","depreciationCategory","fiveYearResalePercent","reliabilityRating","insuranceCostAnnual","maintenanceCostAnnual"]},{name:"Performance",columns:["year","make","model","zeroToSixtySeconds","horsepower","fuelType","msrp"]}];function es({visibleColumns:e,onColumnsChange:a}){let[r,l]=(0,t.useState)(!1),i=(0,t.useRef)(null);(0,t.useEffect)(()=>{function e(e){i.current&&!i.current.contains(e.target)&&l(!1)}return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);let n=Z.filter(e=>"action"!==e.category),o={identity:"Identity",safety:"Safety & Ratings",dimensions:"Dimensions",powertrain:"Powertrain",pricing:"Pricing & Notes"};return(0,s.jsxs)("div",{className:"relative",ref:i,children:[(0,s.jsxs)("button",{onClick:()=>l(!r),className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded text-sm font-medium flex items-center gap-2",title:"Customize columns",children:[(0,s.jsxs)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Columns"]}),r&&(0,s.jsx)("div",{className:"absolute right-0 mt-2 w-80 bg-gray-800 border border-gray-700 rounded-lg shadow-xl z-50 max-h-[70vh] overflow-y-auto",children:(0,s.jsxs)("div",{className:"p-4",children:[(0,s.jsx)("h3",{className:"text-white font-semibold mb-3",children:"Customize Columns"}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{className:"text-gray-400 text-xs uppercase tracking-wider mb-2 block",children:"Quick Presets"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:ee.map(e=>(0,s.jsx)("button",{onClick:()=>{a(e.columns)},className:"px-2 py-1 bg-gray-700 hover:bg-gray-600 text-gray-300 text-xs rounded transition-colors",children:e.name},e.name))})]}),["identity","safety","dimensions","powertrain","pricing"].map(t=>{let r=n.filter(e=>e.category===t);return(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{className:"text-gray-400 text-xs uppercase tracking-wider mb-2 block",children:o[t]}),(0,s.jsx)("div",{className:"space-y-1",children:r.map(t=>(0,s.jsxs)("label",{className:"flex items-center gap-2 py-1 px-2 rounded hover:bg-gray-700 cursor-pointer",children:[(0,s.jsx)("input",{type:"checkbox",checked:e.includes(t.id),onChange:()=>{var s;return s=t.id,void(e.includes(s)?a(e.filter(e=>e!==s)):a([...e,s]))},className:"w-4 h-4 rounded border-gray-600 bg-gray-700 text-blue-600 focus:ring-blue-500"}),(0,s.jsx)("span",{className:"text-gray-300 text-sm",children:t.label})]},t.id))})]},t)}),(0,s.jsx)("div",{className:"pt-3 border-t border-gray-700",children:(0,s.jsx)("button",{onClick:()=>a(X),className:"w-full px-3 py-2 bg-gray-700 hover:bg-gray-600 text-gray-300 text-sm rounded transition-colors",children:"Reset to Default"})})]})})]})}let et={"garage-fit":{label:"Garage Fit",description:"Find cars that fit your garage or parking space",columns:["year","make","model","bodyType","mirrorsFoldedWidthInches","bodyWidthInches","heightInches","groundClearanceInches","msrp"],icon:"🏠"},family:{label:"Family Car Shopping",description:"Find safe, reliable cars for your family",columns:["year","make","model","bodyType","safetyRating","seats","reliabilityRating","msrp"],icon:"👨‍👩‍👧‍👦"},budget:{label:"Budget-Conscious",description:"Find the best value with low ownership costs",columns:["year","make","model","msrp","mpgCombined","reliabilityRating","insuranceCostAnnual","maintenanceCostAnnual"],icon:"💰"},"ev-shopping":{label:"EV Shopping",description:"Compare electric vehicles",columns:["year","make","model","electricRangeMiles","mpgCombined","plugType","msrp","depreciationCategory"],icon:"⚡"},performance:{label:"Performance Enthusiast",description:"Find fast, powerful cars",columns:["year","make","model","zeroToSixtySeconds","horsepower","bodyType","fuelType","msrp"],icon:"🏎️"},"all-data":{label:"Show Me Everything",description:"See all available data columns",columns:Z.filter(e=>"action"!==e.category&&e.defaultVisible).map(e=>e.id),icon:"📊"}};function ea({cars:e,onComplete:a,onSkip:r}){let[l,i]=(0,t.useState)("welcome"),[n,o]=(0,t.useState)(null),[d,c]=(0,t.useState)(null),[m,x]=(0,t.useState)(""),[g,h]=(0,t.useState)({bodyTypes:[],fuelTypes:[],newOnly:!1}),u=e.filter(e=>{if(!m.trim())return!1;let s=m.toLowerCase();return`${e.year} ${e.make} ${e.model}`.toLowerCase().includes(s)}).slice(0,8),p=[e.find(e=>"Toyota"===e.make&&"RAV4"===e.model&&e.year>=2024),e.find(e=>"Honda"===e.make&&"CR-V"===e.model&&e.year>=2024),e.find(e=>"Tesla"===e.make&&"Model Y"===e.model),e.find(e=>"Ford"===e.make&&"F-150"===e.model&&e.year>=2024),e.find(e=>"Toyota"===e.make&&"Camry"===e.model&&e.year>=2024)].filter(Boolean);return(0,s.jsx)("div",{className:"fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-4 modal-backdrop",children:(0,s.jsxs)("div",{className:"bg-gray-800 rounded-xl max-w-2xl w-full p-8 modal-content max-h-[90vh] overflow-y-auto",children:[(0,s.jsx)("div",{className:"flex justify-center mb-8",children:(0,s.jsx)("div",{className:"flex items-center gap-2",children:["welcome","use-case","baseline","preferences"].map((e,t)=>(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:`w-3 h-3 rounded-full ${l===e?"bg-blue-500":["welcome","use-case","baseline","preferences"].indexOf(l)>t?"bg-green-500":"bg-gray-600"}`}),t<3&&(0,s.jsx)("div",{className:"w-8 h-0.5 bg-gray-600"})]},e))})}),"welcome"===l&&(0,s.jsxs)("div",{className:"text-center animate-fadeIn",children:[(0,s.jsxs)("h2",{className:"text-3xl font-bold text-white mb-4",children:["Welcome to ",(0,s.jsx)("span",{className:"text-blue-400",children:"Car"}),"Compare"]}),(0,s.jsxs)("p",{className:"text-gray-300 mb-8 text-lg",children:["Let's set up your experience in a few quick steps.",(0,s.jsx)("br",{}),(0,s.jsx)("span",{className:"text-gray-400 text-sm",children:"This will only take 30 seconds."})]}),(0,s.jsxs)("div",{className:"flex gap-4 justify-center",children:[(0,s.jsx)("button",{onClick:()=>i("use-case"),className:"px-8 py-3 bg-blue-600 hover:bg-blue-500 text-white rounded-lg text-lg font-medium btn-hover",children:"Get Started"}),(0,s.jsx)("button",{onClick:r,className:"px-8 py-3 bg-gray-700 hover:bg-gray-600 text-gray-300 rounded-lg text-lg btn-hover",children:"Skip Setup"})]})]}),"use-case"===l&&(0,s.jsxs)("div",{className:"animate-fadeIn",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-white mb-2 text-center",children:"What brings you here?"}),(0,s.jsx)("p",{className:"text-gray-400 mb-6 text-center",children:"This helps us show the most relevant columns for your needs."}),(0,s.jsx)("div",{className:"grid grid-cols-2 gap-4 mb-8",children:Object.entries(et).map(([e,t])=>(0,s.jsxs)("button",{onClick:()=>o(e),className:`p-4 rounded-lg text-left transition-all ${n===e?"bg-blue-600 border-2 border-blue-400":"bg-gray-700 border-2 border-transparent hover:border-gray-500"}`,children:[(0,s.jsx)("span",{className:"text-2xl mb-2 block",children:t.icon}),(0,s.jsx)("span",{className:"text-white font-medium block",children:t.label}),(0,s.jsx)("span",{className:"text-gray-400 text-sm",children:t.description})]},e))}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("button",{onClick:()=>i("welcome"),className:"px-6 py-2 text-gray-400 hover:text-white",children:"Back"}),(0,s.jsx)("button",{onClick:()=>i("baseline"),disabled:!n,className:`px-8 py-3 rounded-lg font-medium ${n?"bg-blue-600 hover:bg-blue-500 text-white btn-hover":"bg-gray-700 text-gray-500 cursor-not-allowed"}`,children:"Next"})]})]}),"baseline"===l&&(0,s.jsxs)("div",{className:"animate-fadeIn",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-white mb-2 text-center",children:"Do you have a reference car?"}),(0,s.jsxs)("p",{className:"text-gray-400 mb-6 text-center",children:["Compare all cars against a baseline (your current car or a known size).",(0,s.jsx)("br",{}),(0,s.jsx)("span",{className:"text-sm",children:"You can change this anytime."})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("input",{type:"text",placeholder:"Search for a car (e.g., 2024 Toyota RAV4)",value:m,onChange:e=>x(e.target.value),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400"}),u.length>0&&(0,s.jsx)("div",{className:"mt-2 bg-gray-900 rounded-lg border border-gray-700 max-h-48 overflow-y-auto",children:u.map(e=>(0,s.jsxs)("button",{onClick:()=>{c(e),x("")},className:"w-full px-4 py-2 text-left hover:bg-gray-700 text-white flex justify-between",children:[(0,s.jsxs)("span",{children:[e.year," ",e.make," ",e.model]}),(0,s.jsx)("span",{className:"text-gray-400",children:e.bodyType})]},e.id))})]}),d&&(0,s.jsxs)("div",{className:"mb-4 p-4 bg-blue-900/30 border border-blue-700 rounded-lg flex justify-between items-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("span",{className:"text-white font-medium",children:[d.year," ",d.make," ",d.model]}),(0,s.jsx)("span",{className:"text-gray-400 text-sm ml-2",children:"selected as baseline"})]}),(0,s.jsx)("button",{onClick:()=>c(null),className:"text-gray-400 hover:text-white",children:"✕"})]}),!d&&(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("p",{className:"text-gray-400 text-sm mb-2",children:"Popular choices:"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:p.map(e=>(0,s.jsxs)("button",{onClick:()=>c(e),className:"px-3 py-1.5 bg-gray-700 hover:bg-gray-600 text-gray-300 text-sm rounded-full",children:[e.year," ",e.make," ",e.model]},e.id))})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("button",{onClick:()=>i("use-case"),className:"px-6 py-2 text-gray-400 hover:text-white",children:"Back"}),(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsx)("button",{onClick:()=>i("preferences"),className:"px-6 py-2 text-gray-400 hover:text-white",children:"Skip"}),(0,s.jsx)("button",{onClick:()=>i("preferences"),className:"px-8 py-3 bg-blue-600 hover:bg-blue-500 text-white rounded-lg font-medium btn-hover",children:"Next"})]})]})]}),"preferences"===l&&(0,s.jsxs)("div",{className:"animate-fadeIn",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-white mb-2 text-center",children:"Any preferences?"}),(0,s.jsx)("p",{className:"text-gray-400 mb-6 text-center",children:"Optionally filter to specific types. You can always change these later."}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("p",{className:"text-white font-medium mb-2",children:"Body Types (optional)"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:["sedan","crossover","suv","truck","minivan","hatchback","wagon","coupe"].map(e=>(0,s.jsx)("button",{onClick:()=>{h(s=>({...s,bodyTypes:s.bodyTypes.includes(e)?s.bodyTypes.filter(s=>s!==e):[...s.bodyTypes,e]}))},className:`px-4 py-2 rounded-lg capitalize ${g.bodyTypes.includes(e)?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:e},e))})]}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("p",{className:"text-white font-medium mb-2",children:"Fuel Types (optional)"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:["gasoline","hybrid","plug-in-hybrid","electric","diesel"].map(e=>(0,s.jsx)("button",{onClick:()=>{h(s=>({...s,fuelTypes:s.fuelTypes.includes(e)?s.fuelTypes.filter(s=>s!==e):[...s.fuelTypes,e]}))},className:`px-4 py-2 rounded-lg capitalize ${g.fuelTypes.includes(e)?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:e.replace("-"," ")},e))})]}),(0,s.jsx)("div",{className:"mb-8",children:(0,s.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,s.jsx)("input",{type:"checkbox",checked:g.newOnly,onChange:e=>h(s=>({...s,newOnly:e.target.checked})),className:"w-5 h-5 rounded border-gray-600 bg-gray-700 text-blue-600"}),(0,s.jsx)("span",{className:"text-white",children:"Only show new cars (2024+)"})]})}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("button",{onClick:()=>i("baseline"),className:"px-6 py-2 text-gray-400 hover:text-white",children:"Back"}),(0,s.jsx)("button",{onClick:()=>{a({columns:(n?et[n]:et["all-data"]).columns,baseline:d,filters:{bodyTypes:g.bodyTypes.length>0?g.bodyTypes:void 0,fuelTypes:g.fuelTypes.length>0?g.fuelTypes:void 0,minYear:g.newOnly?2024:void 0}})},className:"px-8 py-3 bg-green-600 hover:bg-green-500 text-white rounded-lg font-medium btn-hover",children:"Start Comparing"})]})]})]})})}let er="carcompare_favorites",el="carcompare_filters",ei="carcompare_mirrorBuffer",en="carcompare_baseline",eo="carcompare_columns",ed="carcompare_hasSeenWizard";function ec(){let e=a.default.cars,r=a.default.mirrorBuffer,l=e.find(e=>"toyota-rav4-2011"===e.id)??null,[i,n]=(0,t.useState)({}),[o,d]=(0,t.useState)({field:"msrp",direction:"asc"}),[c,m]=(0,t.useState)(l),[x,g]=(0,t.useState)(r),[h,u]=(0,t.useState)([]),[p,b]=(0,t.useState)([]),[y,k]=(0,t.useState)(!1),[S,T]=(0,t.useState)(!1),[F,R]=(0,t.useState)(""),[L,$]=(0,t.useState)(X),[P,M]=(0,t.useState)(!1);(0,t.useEffect)(()=>{let s=new URLSearchParams(window.location.search).get("state");if(s)try{let t=JSON.parse(atob(s));if(t.filters&&n(t.filters),t.sort&&d(t.sort),t.baseline){let s=e.find(e=>e.id===t.baseline);s&&m(s)}t.compare&&b(t.compare),t.columns&&$(t.columns)}catch(e){console.error("Failed to parse shared state:",e)}else{let s=localStorage.getItem(er);s&&u(JSON.parse(s));let t=localStorage.getItem(el);t&&n(JSON.parse(t));let a=localStorage.getItem(ei);a&&g(parseInt(a));let r=localStorage.getItem(en);if(r){let s=e.find(e=>e.id===r);s&&m(s)}let l=localStorage.getItem(eo);l&&$(JSON.parse(l)),localStorage.getItem(ed)||M(!0)}T(!0)},[e]),(0,t.useEffect)(()=>{S&&localStorage.setItem(er,JSON.stringify(h))},[h,S]),(0,t.useEffect)(()=>{S&&localStorage.setItem(el,JSON.stringify(i))},[i,S]),(0,t.useEffect)(()=>{S&&localStorage.setItem(ei,x.toString())},[x,S]),(0,t.useEffect)(()=>{S&&c&&localStorage.setItem(en,c.id)},[c,S]),(0,t.useEffect)(()=>{S&&localStorage.setItem(eo,JSON.stringify(L))},[L,S]);let W=(0,t.useMemo)(()=>[...new Set(e.map(e=>e.make))].sort(),[e]),V=(0,t.useMemo)(()=>{let s=e.filter(e=>{if(i.seats&&i.seats.length>0&&!i.seats.includes(e.seats)||void 0!==i.minSeats&&e.seats<i.minSeats||void 0!==i.maxSeats&&e.seats>i.maxSeats)return!1;let s=e.msrp??e.usedPriceHigh??0;if(void 0!==i.minPrice&&s<i.minPrice||void 0!==i.maxPrice&&s>i.maxPrice||i.doors&&i.doors.length>0&&!i.doors.includes(e.doors)||i.fuelTypes&&i.fuelTypes.length>0&&!i.fuelTypes.includes(e.fuelType)||i.plugTypes&&i.plugTypes.length>0&&!i.plugTypes.includes(e.plugType)||i.bodyTypes&&i.bodyTypes.length>0&&!i.bodyTypes.includes(e.bodyType))return!1;if(void 0!==i.maxWidthInches&&("folded"===(i.widthFilterType??"extended")?e.mirrorsFoldedWidthInches??e.bodyWidthInches+2:e.mirrorWidthInches??e.bodyWidthInches+x)>i.maxWidthInches)return!1;return(!i.makes||!(i.makes.length>0)||!!i.makes.includes(e.make))&&(void 0===i.minLegroom||!!e.driverLegroomInches&&!(e.driverLegroomInches<i.minLegroom))&&(!i.safetyRatings||!(i.safetyRatings.length>0)||!!e.safetyRating&&!!i.safetyRatings.includes(e.safetyRating))&&(void 0===i.minYear||!(e.year<i.minYear))&&(void 0===i.maxYear||!(e.year>i.maxYear))&&(void 0===i.minMpg||!((e.mpgCombined??e.mpge??0)<i.minMpg))&&(void 0===i.minEvRange||!!e.electricRangeMiles&&!(e.electricRangeMiles<i.minEvRange))&&(void 0===i.minCargo||!!e.cargoVolumesCuFt&&!(e.cargoVolumesCuFt<i.minCargo))&&(!i.autonomousLevels||!(i.autonomousLevels.length>0)||!!e.autonomousLevel&&!!i.autonomousLevels.includes(e.autonomousLevel))&&(!0!==i.hasHandsFree||!!e.adasFeatures?.handsFreeHighway)&&(!0!==i.hasAutoLaneChange||!!e.adasFeatures?.autoLaneChange)&&(void 0===i.minReviewScore||!!e.reviewScore&&!(e.reviewScore<i.minReviewScore))&&!0});if(i.showFavoritesOnly&&(s=s.filter(e=>h.includes(e.id))),F.trim()){let e=F.toLowerCase().trim();s=s.filter(s=>`${s.year} ${s.make} ${s.model} ${s.trim??""} ${s.bodyType} ${s.fuelType}`.toLowerCase().includes(e))}return s},[e,i,x,h,F]),H=(0,t.useMemo)(()=>[...V].sort((e,s)=>{let t,a;switch(o.field){case"year":t=e.year,a=s.year;break;case"make":t=e.make.toLowerCase(),a=s.make.toLowerCase();break;case"model":t=e.model.toLowerCase(),a=s.model.toLowerCase();break;case"bodyType":t=e.bodyType.toLowerCase(),a=s.bodyType.toLowerCase();break;case"bodyWidthInches":t=e.mirrorWidthInches??e.bodyWidthInches,a=s.mirrorWidthInches??s.bodyWidthInches;break;case"mirrorsFoldedWidthInches":t=e.mirrorsFoldedWidthInches??e.bodyWidthInches,a=s.mirrorsFoldedWidthInches??s.bodyWidthInches;break;case"seats":t=e.seats,a=s.seats;break;case"doors":t=e.doors,a=s.doors;break;case"msrp":t=e.msrp??1/0,a=s.msrp??1/0;break;case"mpgCombined":t=e.mpgCombined??e.mpge??0,a=s.mpgCombined??s.mpge??0;break;case"electricRangeMiles":t=e.electricRangeMiles??0,a=s.electricRangeMiles??0;break;case"driverLegroomInches":t=e.driverLegroomInches??0,a=s.driverLegroomInches??0;break;case"safetyRating":t=j[e.safetyRating??"undefined"],a=j[s.safetyRating??"undefined"];break;case"autonomousLevel":t=v[e.autonomousLevel??"undefined"],a=v[s.autonomousLevel??"undefined"];break;case"reviewScore":t=e.reviewScore??0,a=s.reviewScore??0;break;case"heightInches":t=e.heightInches??0,a=s.heightInches??0;break;case"groundClearanceInches":t=e.groundClearanceInches??0,a=s.groundClearanceInches??0;break;case"leaseRating":t=N[e.leaseRating??"undefined"],a=N[s.leaseRating??"undefined"];break;case"depreciationCategory":t=w[e.depreciationCategory??"undefined"],a=w[s.depreciationCategory??"undefined"];break;case"fiveYearResalePercent":t=e.fiveYearResalePercent??0,a=s.fiveYearResalePercent??0;break;case"reliabilityRating":t=C[e.reliabilityRating??"undefined"],a=C[s.reliabilityRating??"undefined"];break;case"insuranceCostAnnual":t=e.insuranceCostAnnual??1/0,a=s.insuranceCostAnnual??1/0;break;case"maintenanceCostAnnual":t=e.maintenanceCostAnnual??1/0,a=s.maintenanceCostAnnual??1/0;break;case"zeroToSixtySeconds":t=e.zeroToSixtySeconds??1/0,a=s.zeroToSixtySeconds??1/0;break;case"horsepower":t=e.horsepower??0,a=s.horsepower??0;break;default:return 0}if("string"==typeof t&&"string"==typeof a)return"asc"===o.direction?t.localeCompare(a):a.localeCompare(t);let r=t,l=a;return"asc"===o.direction?r-l:l-r}),[V,o]),E=(0,t.useMemo)(()=>e.filter(e=>p.includes(e.id)),[e,p]),D=(0,t.useCallback)(e=>{u(s=>s.includes(e)?s.filter(s=>s!==e):[...s,e])},[]),G=(0,t.useCallback)(e=>{b(s=>s.includes(e)?s.filter(s=>s!==e):s.length>=4?s:[...s,e])},[]),B=(0,t.useCallback)(e=>{b(s=>s.filter(s=>s!==e))},[]),O=(0,t.useCallback)(()=>{var e,s;let t,a;e=["Year,Make,Model,Trim,Body Type,Safety Rating,Seats,Driver Legroom,Width (Mirrors Folded),Width (Mirrors Extended),Body Width,Length,Height,Cargo Volume,Fuel Type,Plug Type,City MPG,Highway MPG,Combined MPG,MPGe,EV Range,MSRP,Used Price Low,Used Price High,ADAS Level,ADAS Name,Hands-Free Driving,Auto Lane Change,Notes",...H.map(e=>[e.year,e.make,e.model,e.trim??"",e.bodyType,e.safetyRating??"",e.seats,e.driverLegroomInches??"",e.mirrorsFoldedWidthInches??"",I(e,x).toFixed(1),e.bodyWidthInches,e.lengthInches??"",e.heightInches??"",e.cargoVolumesCuFt??"",e.fuelType,"none"===e.plugType?"":e.plugType,e.mpgCity??"",e.mpgHighway??"",e.mpgCombined??"",e.mpge??"",e.electricRangeMiles??"",e.msrp??"",e.usedPriceLow??"",e.usedPriceHigh??"",e.autonomousLevel??"",e.adasName??"",e.adasFeatures?.handsFreeHighway?"Yes":"No",e.adasFeatures?.autoLaneChange?"Yes":"No",e.notes??""]).map(e=>e.map(e=>"string"==typeof e&&(e.includes(",")||e.includes('"'))?`"${e.replace(/"/g,'""')}"`:e).join(","))].join("\n"),s=`car-compare-${new Date().toISOString().split("T")[0]}.csv`,t=new Blob([e],{type:"text/csv;charset=utf-8;"}),(a=document.createElement("a")).href=URL.createObjectURL(t),a.download=s,a.click(),URL.revokeObjectURL(a.href)},[H,x]),Y=(0,t.useCallback)(()=>{window.print()},[]),z=(0,t.useCallback)(()=>{let e=btoa(JSON.stringify({filters:i,sort:o,baseline:c?.id,compare:p,columns:L})),s=`${window.location.origin}${window.location.pathname}?state=${e}`;navigator.clipboard.writeText(s).then(()=>{alert("Share link copied to clipboard!")}).catch(()=>{prompt("Copy this link to share:",s)})},[i,o,c,p,L]),U=(0,t.useCallback)(e=>{$(e.columns),e.baseline&&m(e.baseline),n(s=>({...s,bodyTypes:e.filters.bodyTypes,fuelTypes:e.filters.fuelTypes,minYear:e.filters.minYear})),localStorage.setItem(ed,"true"),M(!1)},[]),J=(0,t.useCallback)(()=>{localStorage.setItem(ed,"true"),M(!1)},[]);return(0,s.jsxs)("div",{className:"min-h-screen bg-gray-900",children:[(0,s.jsx)("header",{className:"bg-gradient-to-r from-gray-900 via-gray-800 to-gray-900 border-b border-gray-700 px-6 py-5",children:(0,s.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("h1",{className:"text-3xl font-extrabold tracking-tight",children:[(0,s.jsx)("span",{className:"text-blue-400",children:"Car"}),(0,s.jsx)("span",{className:"text-white",children:"Compare"})]}),(0,s.jsx)("p",{className:"text-gray-400 text-sm mt-1",children:"Find the perfect car for your garage and family"})]}),(0,s.jsxs)("div",{className:"flex gap-2 flex-wrap",children:[p.length>0&&(0,s.jsxs)("button",{onClick:()=>k(!0),className:"px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded text-sm font-medium",children:["Compare (",p.length,")"]}),(0,s.jsx)(es,{visibleColumns:L,onColumnsChange:$}),(0,s.jsx)("button",{onClick:O,className:"px-4 py-2 bg-green-700 hover:bg-green-600 text-white rounded text-sm font-medium btn-hover no-print",title:"Export filtered results to CSV",children:"Export CSV"}),(0,s.jsx)("button",{onClick:Y,className:"px-4 py-2 bg-gray-600 hover:bg-gray-500 text-white rounded text-sm font-medium btn-hover no-print",title:"Print current view",children:"Print"}),(0,s.jsx)("button",{onClick:z,className:"px-4 py-2 bg-purple-700 hover:bg-purple-600 text-white rounded text-sm font-medium btn-hover no-print",title:"Copy shareable link with current filters",children:"Share"})]})]})}),(0,s.jsx)("main",{className:"p-6",children:(0,s.jsxs)("div",{className:"flex flex-col lg:flex-row gap-6",children:[(0,s.jsxs)("aside",{className:"lg:w-80 flex-shrink-0 space-y-4 no-print",children:[(0,s.jsx)(K,{cars:e,baselineCar:c,onBaselineChange:m,mirrorBuffer:x}),(0,s.jsx)(f,{filters:i,onFiltersChange:n,availableMakes:W,hasFavorites:h.length>0})]}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"mb-4 space-y-3",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{type:"text",placeholder:"Search cars (e.g., Toyota, SUV, 2025, hybrid...)",value:F,onChange:e=>R(e.target.value),className:"w-full px-4 py-2 pl-10 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-blue-500"}),(0,s.jsx)("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),F&&(0,s.jsx)("button",{onClick:()=>R(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-white",children:"×"})]}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("p",{className:"text-gray-400",children:["Showing ",H.length," of ",e.length," vehicles"]}),h.length>0&&(0,s.jsxs)("span",{className:"text-yellow-400 text-sm",children:["★ ",h.length," favorited"]})]}),(0,s.jsxs)("p",{className:"text-gray-500 text-sm",children:["Last updated: ",a.default.lastSyncDate]})]})]}),(0,s.jsx)("div",{className:"block lg:hidden",children:(0,s.jsx)(em,{cars:H,baselineCar:c,mirrorBuffer:x,favorites:h,compareList:p,onToggleFavorite:D,onToggleCompare:G,onSelectBaseline:m})}),(0,s.jsx)("div",{className:"hidden lg:block",children:(0,s.jsx)(A,{cars:H,sortConfig:o,onSortChange:e=>{d(s=>({field:e,direction:s.field===e&&"asc"===s.direction?"desc":"asc"}))},baselineCar:c,mirrorBuffer:x,onSelectBaseline:m,compareList:p,onToggleCompare:G,favorites:h,onToggleFavorite:D,visibleColumns:L})})]})]})}),(0,s.jsx)("footer",{className:"bg-gray-800 border-t border-gray-700 px-6 py-4 mt-8",children:(0,s.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,s.jsx)("p",{className:"text-gray-500 text-sm text-center",children:"Data sourced from manufacturer specifications. Prices and availability may vary."}),(0,s.jsxs)("p",{className:"text-gray-500 text-sm",children:["Part of"," ",(0,s.jsxs)("a",{href:"https://krool.github.io/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 transition-colors inline-flex items-center gap-1",children:["Krool World",(0,s.jsxs)("svg",{className:"w-3 h-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,s.jsx)("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}),(0,s.jsx)("polyline",{points:"15 3 21 3 21 9"}),(0,s.jsx)("line",{x1:"10",y1:"14",x2:"21",y2:"3"})]})]})]})]})}),y&&E.length>0&&(0,s.jsx)(Q,{cars:E,onClose:()=>k(!1),onRemoveCar:B,mirrorBuffer:x}),P&&(0,s.jsx)(ea,{cars:e,onComplete:U,onSkip:J})]})}function em({cars:e,baselineCar:t,mirrorBuffer:a,favorites:r,compareList:l,onToggleFavorite:i,onToggleCompare:n,onSelectBaseline:o}){return 0===e.length?(0,s.jsx)("div",{className:"bg-gray-800 rounded-lg p-8 text-center text-gray-400",children:"No cars match your filters. Try adjusting the filter criteria."}):(0,s.jsx)("div",{className:"space-y-4",children:e.map(e=>{var d;let c=t?.id===e.id,m=r.includes(e.id),x=l.includes(e.id),g=e.mirrorWidthInches??e.bodyWidthInches+a;return(0,s.jsxs)("div",{className:`bg-gray-800 rounded-lg p-4 ${c?"ring-2 ring-blue-500":m?"ring-2 ring-yellow-500/50":""}`,children:[(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsx)("img",{src:((e,s=400)=>{let t=e.model.split(" ")[0].toLowerCase().replace(/[^a-z0-9]/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,""),a=e.make.toLowerCase();return`https://cdn.imagin.studio/getImage?customer=img&make=${a}&modelFamily=${t}&paintId=pspc0001&angle=01&width=${s}`})(e,200),alt:`${e.year} ${e.make} ${e.model}`,className:"w-32 h-20 object-cover rounded"}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("h3",{className:"text-white font-semibold",children:[e.year," ",e.make," ",e.model]}),e.trim&&(0,s.jsx)("p",{className:"text-gray-400 text-sm",children:e.trim})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("button",{onClick:()=>i(e.id),className:`text-xl ${m?"text-yellow-400":"text-gray-600"}`,children:"★"}),(0,s.jsx)("input",{type:"checkbox",checked:x,onChange:()=>n(e.id),className:"w-5 h-5"})]})]}),(0,s.jsxs)("div",{className:"mt-2 flex flex-wrap gap-2 text-xs",children:[(0,s.jsx)("span",{className:"px-2 py-0.5 bg-gray-700 rounded",children:e.bodyType}),(0,s.jsxs)("span",{className:"px-2 py-0.5 bg-gray-700 rounded",children:[e.seats," seats"]}),e.safetyRating&&"Not Rated"!==e.safetyRating&&(0,s.jsx)("span",{className:"px-2 py-0.5 bg-green-800 text-green-200 rounded",children:e.safetyRating})]})]})]}),(0,s.jsxs)("div",{className:"mt-4 grid grid-cols-2 gap-2 text-sm",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-400",children:"MSRP:"}),(0,s.jsx)("span",{className:"text-white ml-2",children:void 0===(d=e.msrp)?"N/A":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0}).format(d)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-400",children:"Width:"}),(0,s.jsxs)("span",{className:"text-white ml-2",children:[g.toFixed(1),'"']})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-400",children:"Legroom:"}),(0,s.jsx)("span",{className:"text-white ml-2",children:e.driverLegroomInches?`${e.driverLegroomInches}"`:"-"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-400",children:"MPG:"}),(0,s.jsxs)("span",{className:"text-white ml-2",children:[e.mpgCombined??e.mpge??"-",e.mpge?" MPGe":""]})]})]}),(0,s.jsx)("div",{className:"mt-4 flex gap-2",children:(0,s.jsx)("button",{onClick:()=>o(e),className:`flex-1 px-3 py-2 rounded text-sm ${c?"bg-blue-600 text-white":"bg-gray-700 text-gray-300"}`,children:c?"✓ Baseline":"Set as Baseline"})})]},e.id)})})}e.s(["default",()=>ec],52683)}]);